<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬14è¯¾ ç®—æ³•æ•ˆç‡æ¯”ä¸€æ¯” - äº”å¹´çº§ä¿¡æ¯ç§‘æŠ€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "å¾®è½¯é›…é»‘", "Microsoft YaHei", sans-serif;
        }
        body {
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f8fb 100%);
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        /* å¯¼èˆªæ æ ·å¼ */
        .nav {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .nav-btn {
            padding: 10px 18px;
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .nav-btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
        }
        .nav-btn.active {
            background: #2b6cb0;
            box-shadow: 0 2px 8px rgba(43,108,176,0.3);
        }
        /* å†…å®¹åŒºåŸŸæ ·å¼ */
        .content-section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            animation: fadeIn 0.5s ease;
        }
        .content-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* æ ‡é¢˜æ ·å¼ */
        h1 {
            color: #2b6cb0;
            font-size: 28px;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
        }
        h1::after {
            content: "";
            display: block;
            width: 80px;
            height: 4px;
            background: #4299e1;
            margin: 10px auto;
            border-radius: 2px;
        }
        h2 {
            color: #3182ce;
            font-size: 24px;
            margin: 25px 0 15px;
            display: flex;
            align-items: center;
        }
        h2::before {
            content: "ğŸ“Œ";
            margin-right: 10px;
        }
        h3 {
            color: #4a5568;
            font-size: 20px;
            margin: 20px 0 12px;
        }
        p {
            font-size: 18px;
            margin-bottom: 15px;
            line-height: 1.8;
        }
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: #f5fafe;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #4299e1;
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateX(5px);
        }
        .card.warning {
            border-left-color: #ed8936;
            background: #fef7fb;
        }
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 12px 24px;
            background: #48bb78;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: #38a169;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(56,161,105,0.2);
        }
        .btn.secondary {
            background: #9f7aea;
        }
        .btn.secondary:hover {
            background: #805ad5;
        }
        .btn.danger {
            background: #e53e3e;
        }
        .btn.danger:hover {
            background: #c53030;
        }
        /* è¾“å…¥æ¡†æ ·å¼ */
        .input-group {
            margin: 20px 0;
        }
        label {
            display: block;
            font-size: 18px;
            margin-bottom: 8px;
            color: #4a5568;
        }
        input {
            padding: 12px;
            width: 200px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border 0.3s ease;
        }
        input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66,153,225,0.1);
        }
        /* åŠ¨ç”»åŒºåŸŸæ ·å¼ */
        .animation-area {
            width: 100%;
            height: 500px;
            margin: 30px 0;
            position: relative;
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            overflow: hidden;
            background: #f8fafc;
        }
        .shape {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #4299e1;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
            animation: fadeIn 0.5s ease;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .shape:hover {
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        .shape-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            z-index: 100;
            white-space: nowrap;
            display: none;
        }
        .shape.reverse {
            background: #9f7aea;
        }
        /* è¡¨æ ¼æ ·å¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 2px solid #e2e8f0;
            font-size: 16px;
        }
        th {
            background: #f5fafe;
            color: #2b6cb0;
        }
        tr:hover {
            background: #f8fafc;
        }
        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-container {
            width: 100%;
            height: 30px;
            background: #e2e8f0;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            width: 0;
            border-radius: 15px;
            background: linear-gradient(90deg, #4299e1, #38a169);
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        /* é—®ç­”æ ·å¼ */
        .quiz-container {
            background: #fdf2f8;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }
        .quiz-options {
            margin: 20px 0;
        }
        .quiz-option {
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }
        .quiz-option:hover {
            border-color: #9f7aea;
            background: #fef7fb;
        }
        .quiz-option.correct {
            border-color: #48bb78;
            background: #f0fdf4;
        }
        .quiz-option.incorrect {
            border-color: #e53e3e;
            background: #fee2e2;
        }
        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        .feedback-correct {
            background: #dcfce7;
            color: #166534;
        }
        .feedback-incorrect {
            background: #fee2e2;
            color: #991b1b;
        }
        /* æ•°å­—è·³åŠ¨åŠ¨ç”» */
        @keyframes countUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .count-number {
            display: inline-block;
            animation: countUp 0.5s ease;
        }
        /* æŸ±çŠ¶å›¾æ ·å¼ */
        .chart-container {
            display: flex;
            gap: 40px;
            justify-content: center;
            margin: 30px 0;
            align-items: flex-end;
            min-height: 300px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
        }
        .chart-bar-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .chart-bar {
            width: 180px;
            background: linear-gradient(180deg, #4299e1 0%, #2b6cb0 100%);
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 15px 10px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            transition: height 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            min-height: 30px;
        }
        .chart-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(180deg, rgba(255,255,255,0.2) 0%, transparent 100%);
            pointer-events: none;
        }
        .chart-bar.purple {
            background: linear-gradient(180deg, #9f7aea 0%, #805ad5 100%);
        }
        .chart-label {
            font-size: 16px;
            font-weight: bold;
            color: #4a5568;
            text-align: center;
        }
        .chart-time {
            font-size: 14px;
            color: #718096;
            margin-top: 5px;
        }
        .chart-steps {
            font-size: 14px;
            color: #4299e1;
            font-weight: bold;
        }
        .chart-bar.purple .chart-steps {
            color: #9f7aea;
        }
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .nav {
                justify-content: center;
            }
            .animation-area {
                height: 250px;
            }
            .shape {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }
            input {
                width: 100%;
            }
            .chart-container {
                flex-direction: column;
                align-items: center;
            }
            .chart-bar {
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ç¬¬14è¯¾ ç®—æ³•æ•ˆç‡æ¯”ä¸€æ¯”</h1>
        
        <!-- å¯¼èˆªæ  -->
        <div class="nav">
            <button class="nav-btn active" data-target="goal">å­¦ä¹ ç›®æ ‡</button>
            <button class="nav-btn" data-target="intro">è¯¾å ‚å¯¼å…¥</button>
            <button class="nav-btn" data-target="algorithm">ç®—æ³•å¯¹æ¯”</button>
            <button class="nav-btn" data-target="efficiency">æ•ˆç‡åˆ†æ</button>
            <button class="nav-btn" data-target="simulation">ç¼–ç¨‹æ¨¡æ‹Ÿ</button>
            <button class="nav-btn" data-target="summary">è¯¾å ‚æ€»ç»“</button>
            <button class="nav-btn" data-target="extension">æ‹“å±•æå‡</button>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section id="goal" class="content-section active">
            <h2>ğŸ“š å­¦ä¹ ç›®æ ‡</h2>
            <div class="card">
                <div style="display: flex; align-items: center; margin: 15px 0;">
                    <div style="width: 40px; height: 40px; background: #4299e1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">1</div>
                    <p>çŸ¥é“è§£å†³åŒä¸€ä¸ªé—®é¢˜å¯ä»¥æœ‰ä¸åŒçš„ç®—æ³•ï¼Œä¸åŒçš„ç®—æ³•å…·æœ‰ä¸åŒçš„æ•ˆç‡ã€‚</p>
                </div>
            </div>
            <div class="card">
                <div style="display: flex; align-items: center; margin: 15px 0;">
                    <div style="width: 40px; height: 40px; background: #9f7aea; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">2</div>
                    <p>é€šè¿‡å®ä¾‹æ¯”è¾ƒå’Œç®—æ³•åˆ†æï¼Œäº†è§£ç®—æ³•æ‰§è¡Œçš„å…³é”®æ­¥éª¤å’Œæ‰§è¡Œæ¬¡æ•°ï¼Œä½“ä¼šç®—æ³•å­˜åœ¨çš„æ•ˆç‡å·®å¼‚ã€‚</p>
                </div>
            </div>

            <div style="text-align: center; margin-top: 50px;">
                <button class="btn" onclick="nextSection()">å¼€å§‹å­¦ä¹  â†’</button>
            </div>
        </section>

        <!-- è¯¾å ‚å¯¼å…¥ -->
        <section id="intro" class="content-section">
            <h2>ğŸ¤” è¯¾å ‚å¯¼å…¥</h2>
            <p>ä¸€å †ç‰©ä½“æ‘†æ”¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¦ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªï¼Œä½ èƒ½æƒ³åˆ°å“ªäº›æ–¹æ³•ï¼Ÿè¿™äº›æ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p>

            <div class="animation-area" id="intro-animation">
                <!-- åŠ¨æ€ç”Ÿæˆæ¢¯å½¢ç‰©ä½“ -->
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn" onclick="showMethod1()">æ–¹æ³•ä¸€ï¼šé€å±‚ç´¯åŠ </button>
                <button class="btn secondary" onclick="showMethod2()">æ–¹æ³•äºŒï¼šå…¬å¼è®¡ç®—</button>
                <button class="btn danger" onclick="resetIntro()">é‡ç½®</button>
            </div>

            <div id="method1-result" class="card" style="display: none;">
                <h3>æ–¹æ³•ä¸€ï¼šé€å±‚ç´¯åŠ </h3>
                <p>è§‚å¯Ÿå‘ç°ï¼Œç‰©ä½“å…±10å±‚ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œæ¯å±‚åˆ†åˆ«æ˜¯1è‡³10ä¸ªã€‚æŠŠç‰©ä½“é€å±‚è¿›è¡Œç´¯åŠ ï¼š</p>
                <p style="font-size: 20px; text-align: center; color: #2b6cb0; font-weight: bold;">1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10 = <span class="count-number">55</span></p>
            </div>

            <div id="method2-result" class="card secondary" style="display: none;">
                <h3>æ–¹æ³•äºŒï¼šå…¬å¼è®¡ç®—</h3>
                <p>æŠŠä¸¤ä¸ªç›¸åŒçš„æ¢¯å½¢æ­£åæ”¾ç½®ï¼Œç»„æˆä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢ï¼š</p>
                <div class="animation-area" id="parallelogram-animation" style="height: 300px; margin: 20px 0;"></div>
                <p>å¹³è¡Œå››è¾¹å½¢ä¸­ç‰©ä½“ä¸ªæ•° = æ¯å±‚ä¸ªæ•° Ã— å±‚æ•° = (1+10) Ã— 10 = 110ä¸ª</p>
                <p>æ¢¯å½¢ä¸­ç‰©ä½“ä¸ªæ•° = å¹³è¡Œå››è¾¹å½¢ä¸­ç‰©ä½“ä¸ªæ•° Ã· 2 = 110 Ã· 2 = 55ä¸ª</p>
                <p style="font-size: 20px; text-align: center; color: #9f7aea; font-weight: bold;">ç´¯åŠ å’Œ =ï¼ˆç¬¬ä¸€ä¸ªæ•° + æœ€åä¸€ä¸ªæ•°ï¼‰Ã— æ•°çš„æ€»ä¸ªæ•° Ã· 2</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn" onclick="nextSection()">ä¸‹ä¸€èŠ‚ â†’</button>
            </div>
        </section>

        <!-- ç®—æ³•å¯¹æ¯” -->
        <section id="algorithm" class="content-section">
            <h2>ğŸ” ä¸¤ç§ç®—æ³•è¯¦ç»†å¯¹æ¯”</h2>
            <p>æˆ‘ä»¬ä»¥â€œè®¡ç®—1+2+3+â€¦+10â€ä¸ºä¾‹ï¼Œè¯¦ç»†åˆ†æä¸¤ç§ç®—æ³•çš„å·®å¼‚ï¼š</p>

            <div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 30px 0;">
                <div class="card" style="flex: 1; min-width: 300px;">
                    <h3>ç®—æ³•ä¸€ï¼šç›´æ¥ç´¯åŠ </h3>
                    <p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šé€ä¸ªç›¸åŠ ï¼Œä»ç¬¬ä¸€ä¸ªæ•°åŠ åˆ°æœ€åä¸€ä¸ªæ•°</p>
                    <p><strong>æ­¥éª¤</strong>ï¼š</p>
                    <ol style="font-size: 18px; margin-left: 20px; line-height: 2;">
                        <li>1 + 2 = 3ï¼ˆç¬¬1æ¬¡åŠ æ³•ï¼‰</li>
                        <li>3 + 3 = 6ï¼ˆç¬¬2æ¬¡åŠ æ³•ï¼‰</li>
                        <li>6 + 4 = 10ï¼ˆç¬¬3æ¬¡åŠ æ³•ï¼‰</li>
                        <li>... ...</li>
                        <li>45 + 10 = 55ï¼ˆç¬¬9æ¬¡åŠ æ³•ï¼‰</li>
                    </ol>
                    <p><strong>æ€»æ­¥éª¤</strong>ï¼š9æ¬¡åŠ æ³•</p>
                    <p><strong>ç‰¹ç‚¹</strong>ï¼šç®€å•ç›´è§‚ï¼Œå®¹æ˜“ç†è§£ï¼Œä½†æ­¥éª¤è¾ƒå¤š</p>
                </div>

                <div class="card secondary" style="flex: 1; min-width: 300px;">
                    <h3>ç®—æ³•äºŒï¼šå…¬å¼è®¡ç®—</h3>
                    <p><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šåˆ©ç”¨ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼ï¼Œä¸€æ­¥åˆ°ä½</p>
                    <p><strong>æ­¥éª¤</strong>ï¼š</p>
                    <ol style="font-size: 18px; margin-left: 20px; line-height: 2;">
                        <li>1 + 10 = 11ï¼ˆ1æ¬¡åŠ æ³•ï¼‰</li>
                        <li>11 Ã— 10 = 110ï¼ˆ1æ¬¡ä¹˜æ³•ï¼‰</li>
                        <li>110 Ã· 2 = 55ï¼ˆ1æ¬¡é™¤æ³•ï¼‰</li>
                    </ol>
                    <p><strong>æ€»æ­¥éª¤</strong>ï¼š1æ¬¡åŠ æ³• + 1æ¬¡ä¹˜æ³• + 1æ¬¡é™¤æ³•</p>
                    <p><strong>ç‰¹ç‚¹</strong>ï¼šæ­¥éª¤å°‘ï¼Œè®¡ç®—æ›´å¿«ï¼Œä½†éœ€è¦è®°ä½å…¬å¼</p>
                </div>
            </div>

            <div class="quiz-container">
                <h3>ğŸ¤“ å°é—®ç­”</h3>
                <p>å½“è®¡ç®—â€œ1+2+3+â€¦+100â€æ—¶ï¼Œç®—æ³•ä¸€éœ€è¦å¤šå°‘æ¬¡åŠ æ³•ï¼Ÿ</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(1, this)">A. 100æ¬¡</div>
                    <div class="quiz-option" onclick="checkQuiz(2, this)">B. 99æ¬¡</div>
                    <div class="quiz-option" onclick="checkQuiz(3, this)">C. 3æ¬¡</div>
                </div>
                <div class="quiz-feedback feedback-correct" id="correct-feedback">
                    âœ… æ­£ç¡®ï¼ä»1åŠ åˆ°100ï¼Œéœ€è¦è¿›è¡Œ99æ¬¡åŠ æ³•ï¼ˆ1+2æ˜¯ç¬¬1æ¬¡ï¼Œ99+100æ˜¯ç¬¬99æ¬¡ï¼‰ã€‚
                </div>
                <div class="quiz-feedback feedback-incorrect" id="incorrect-feedback">
                    âŒ ä¸å¯¹å“¦ï¼å†æƒ³æƒ³ï¼šä»2å¼€å§‹ï¼Œæ¯ä¸ªæ•°éƒ½è¦å’Œå‰é¢çš„å’Œç›¸åŠ ï¼Œä¸€å…±éœ€è¦åŠ 99æ¬¡~
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn" onclick="nextSection()">ä¸‹ä¸€èŠ‚ â†’</button>
            </div>
        </section>

        <!-- æ•ˆç‡åˆ†æ -->
        <section id="efficiency" class="content-section">
            <h2>â±ï¸ ç´¯åŠ è¿ç®—çš„æ•ˆç‡åˆ†æ</h2>
            <div class="card">
                <h3>é«˜æ–¯çš„æ•…äº‹</h3>
                <p>æ•°å­¦å®¶é«˜æ–¯å°æ—¶å€™ï¼Œè€å¸ˆè®©åŒå­¦ä»¬è®¡ç®—â€œ1+2+3+â€¦+100â€ã€‚å…¶ä»–åŒå­¦éƒ½åœ¨åŸ‹å¤´é€ä¸ªç›¸åŠ ï¼Œé«˜æ–¯å´å¾ˆå¿«ç®—å‡ºäº†ç­”æ¡ˆâ€”â€”5050ï¼</p>
                <p>ä»–ç”¨çš„å°±æ˜¯ç¬¬äºŒç§ç®—æ³•ï¼š(1+100)Ã—100Ã·2 = 5050</p>
            </div>

            <h3>æ—¶é—´å¯¹æ¯”å®éªŒ</h3>
            <p>æˆ‘ä»¬åšä¸€ä¸ªâ€œåˆç†å‡è®¾â€ï¼š</p>
            <div style="display: flex; gap: 20px; flex-wrap: wrap; margin: 20px 0;">
                <div class="card" style="flex: 1; min-width: 150px; text-align: center;">
                    <p>1æ¬¡åŠ æ³•</p>
                    <p style="font-size: 24px; color: #4299e1; font-weight: bold;">1ç§’</p>
                </div>
                <div class="card" style="flex: 1; min-width: 150px; text-align: center;">
                    <p>1æ¬¡ä¹˜æ³•</p>
                    <p style="font-size: 24px; color: #9f7aea; font-weight: bold;">10ç§’</p>
                </div>
                <div class="card" style="flex: 1; min-width: 150px; text-align: center;">
                    <p>1æ¬¡é™¤æ³•</p>
                    <p style="font-size: 24px; color: #ed8936; font-weight: bold;">15ç§’</p>
                </div>
            </div>

            <div class="input-group">
                <label for="number-input">è¯·è¾“å…¥è¦ç´¯åŠ çš„æœ€å¤§æ•°ï¼ˆä¾‹å¦‚10ã€100ã€1000ï¼‰ï¼š</label>
                <input type="number" id="number-input" min="2" value="100" onchange="calculateTime()">
            </div>

            <div class="chart-container">
                <div class="chart-bar-wrapper">
                    <div class="chart-bar" id="bar1" style="height: 30px;">
                        <span id="algorithm1-time">99ç§’</span>
                    </div>
                    <div class="chart-label">ç®—æ³•ä¸€ï¼ˆç´¯åŠ ï¼‰</div>
                    <div class="chart-steps" id="algorithm1-steps">99æ¬¡åŠ æ³•</div>
                    <div class="chart-time">æ¯æ­¥1ç§’</div>
                </div>
                <div class="chart-bar-wrapper">
                    <div class="chart-bar purple" id="bar2" style="height: 30px;">
                        <span id="algorithm2-time">26ç§’</span>
                    </div>
                    <div class="chart-label">ç®—æ³•äºŒï¼ˆå…¬å¼ï¼‰</div>
                    <div class="chart-steps" id="algorithm2-steps">1åŠ +1ä¹˜+1é™¤</div>
                    <div class="chart-time">1+10+15=26ç§’</div>
                </div>
            </div>

            <div class="card warning">
                <h3>æ³¨æ„ï¼</h3>
                <p>ç®—æ³•æ•ˆç‡ä¸æ˜¯ç»å¯¹çš„å“¦ï¼å¦‚æœä¹˜æ³•å’Œé™¤æ³•çš„æ—¶é—´å¾ˆé•¿ï¼ˆæ¯”å¦‚å„50ç§’ï¼‰ï¼Œé‚£ä¹ˆç®—æ³•äºŒçš„æ—¶é—´å°±æ˜¯1+50+50=101ç§’ï¼Œåè€Œæ¯”ç®—æ³•ä¸€ï¼ˆ99ç§’ï¼‰æ…¢äº†ï½</p>
                <p>æ‰€ä»¥ï¼Œæ¯”è¾ƒç®—æ³•æ•ˆç‡éœ€è¦ç»¼åˆè€ƒè™‘æ­¥éª¤å¤šå°‘ã€è¿ç®—ç±»å‹ã€æ•°æ®é‡ç­‰å› ç´ ã€‚</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn" onclick="nextSection()">ä¸‹ä¸€èŠ‚ â†’</button>
            </div>
        </section>

        <!-- ç¼–ç¨‹æ¨¡æ‹Ÿ -->
        <section id="simulation" class="content-section">
            <h2>ğŸ’» ç¼–ç¨‹æ¨¡æ‹Ÿï¼šæ„Ÿå—ç®—æ³•æ•ˆç‡</h2>
            <p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–ç¨‹æ¨¡æ‹Ÿä¸¤ç§ç®—æ³•çš„è¿è¡Œï¼Œç›´è§‚æ„Ÿå—å®ƒä»¬çš„æ•ˆç‡å·®å¼‚ã€‚</p>
            <p>ä¸‹é¢æ˜¯ä¸¤ä¸ªæ¨¡æ‹Ÿç¨‹åºï¼š</p>
            <ul>
                <li>ç¨‹åº1ï¼šç”¨å¾ªç¯ç»“æ„å®ç°ç´¯åŠ ï¼ˆå¯¹åº”ç®—æ³•ä¸€ï¼‰</li>
                <li>ç¨‹åº2ï¼šç”¨å…¬å¼ç›´æ¥è®¡ç®—ï¼ˆå¯¹åº”ç®—æ³•äºŒï¼‰</li>
            </ul>

            <div class="input-group">
                <label for="repeat-count">è¯·è¾“å…¥é‡å¤æ‰§è¡Œæ¬¡æ•°ï¼ˆè¶Šå¤§è¶Šèƒ½çœ‹å‡ºå·®å¼‚ï¼‰ï¼š</label>
                <input type="number" id="repeat-count" min="100" value="10000" step="1000">
                <button class="btn" onclick="runSimulation()">è¿è¡Œæ¨¡æ‹Ÿ</button>
                <button class="btn danger" onclick="resetSimulation()">é‡ç½®</button>
            </div>

            <div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 30px 0;">
                <div class="card" style="flex: 1; min-width: 300px;">
                    <h3>ç¨‹åº1ï¼šå¾ªç¯ç´¯åŠ </h3>
                    <p>è¿è¡ŒçŠ¶æ€ï¼š<span id="status1">æœªè¿è¡Œ</span></p>
                    <p>æ€»ç”¨æ—¶ï¼š<span id="time1" style="font-size: 24px; color: #e53e3e; font-weight: bold;">0.000</span> æ¯«ç§’</p>
                    <div class="progress-container">
                        <div class="progress-bar" id="sim-progress1" style="width: 0%;">0%</div>
                    </div>
                </div>

                <div class="card secondary" style="flex: 1; min-width: 300px;">
                    <h3>ç¨‹åº2ï¼šå…¬å¼è®¡ç®—</h3>
                    <p>è¿è¡ŒçŠ¶æ€ï¼š<span id="status2">æœªè¿è¡Œ</span></p>
                    <p>æ€»ç”¨æ—¶ï¼š<span id="time2" style="font-size: 24px; color: #48bb78; font-weight: bold;">0.000</span> æ¯«ç§’</p>
                    <div class="progress-container">
                        <div class="progress-bar" id="sim-progress2" style="width: 0%; background: linear-gradient(90deg, #9f7aea, #48bb78);">0%</div>
                    </div>
                </div>
            </div>

            <div class="card" id="sim-result" style="display: none;">
                <h3>æ¨¡æ‹Ÿç»“æœåˆ†æ</h3>
                <p id="result-text">å½“é‡å¤æ‰§è¡Œ<span id="result-count">10000</span>æ¬¡æ—¶ï¼Œå…¬å¼è®¡ç®—çš„æ•ˆç‡è¿œè¿œé«˜äºå¾ªç¯ç´¯åŠ ï¼æ•°æ®é‡è¶Šå¤§ï¼Œè¿™ç§å·®å¼‚è¶Šæ˜æ˜¾ï½</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn" onclick="nextSection()">ä¸‹ä¸€èŠ‚ â†’</button>
            </div>
        </section>

        <!-- è¯¾å ‚æ€»ç»“ -->
        <section id="summary" class="content-section">
            <h2>ğŸ“ è¯¾å ‚æ€»ç»“</h2>
            <div style="display: flex; flex-direction: column; gap: 20px; margin: 30px 0;">
                <div class="card" style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="width: 50px; height: 50px; background: #4299e1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold; flex-shrink: 0;">1</div>
                    <div>
                        <h3>ç®—æ³•å¤šæ ·æ€§</h3>
                        <p>è§£å†³åŒä¸€ä¸ªé—®é¢˜æ—¶ï¼Œä¸åŒçš„ç®—æ³•ä¼šæœ‰ä¸åŒçš„æ­¥éª¤ï¼Œä¹Ÿå°±å­˜åœ¨ä¸åŒçš„æ•ˆç‡ã€‚</p>
                    </div>
                </div>

                <div class="card" style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="width: 50px; height: 50px; background: #9f7aea; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold; flex-shrink: 0;">2</div>
                    <div>
                        <h3>æ•ˆç‡æ¯”è¾ƒç»´åº¦</h3>
                        <p>ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜æ—¶ï¼Œé€šå¸¸ä¼šä»<strong>æ‰§è¡Œæ­¥éª¤ã€æ‰§è¡Œæ—¶é—´ã€å†…å­˜å ç”¨</strong>ç­‰æ–¹é¢æ¯”è¾ƒç®—æ³•çš„æ•ˆç‡ã€‚</p>
                    </div>
                </div>

                <div class="card" style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="width: 50px; height: 50px; background: #48bb78; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold; flex-shrink: 0;">3</div>
                    <div>
                        <h3>è®¡ç®—æœºä¼˜åŠ¿</h3>
                        <p>æœ‰äº›äººå·¥è®¡ç®—å›°éš¾çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡é«˜æ•ˆç®—æ³•ç»“åˆè®¡ç®—æœºçš„é«˜é€Ÿè®¡ç®—å’Œå¤§å®¹é‡å­˜å‚¨èƒ½åŠ›æ¥è§£å†³ã€‚</p>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 50px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn secondary" onclick="nextSection()">æ‹“å±•æå‡ â†’</button>
            </div>
        </section>

        <!-- æ‹“å±•æå‡ -->
        <section id="extension" class="content-section">
            <h2>ğŸš€ æ‹“å±•æå‡ï¼šè®¡ç®—åœ†å‘¨ç‡çš„æ•ˆç‡</h2>
            <p>åœ†å‘¨ç‡Ï€æ˜¯æ•°å­¦ä¸­çš„é‡è¦å¸¸æ•°ï¼Œç§‘å­¦å®¶ä»¬ä¸€ç›´åœ¨è¿½æ±‚æ›´ç²¾ç¡®çš„Ï€å€¼ã€‚ä¸åŒç®—æ³•è®¡ç®—Ï€çš„æ•ˆç‡å·®å¼‚å·¨å¤§ï¼</p>

            <div class="card" style="margin: 20px 0;">
                <h3>ğŸ“Š ç®—æ³•å¯¹æ¯”</h3>
                <p>æˆ‘ä»¬ç”¨ä¸¤ç§ä¸åŒçš„ç®—æ³•æ¥è®¡ç®—åœ†å‘¨ç‡ï¼š</p>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><strong>ç®—æ³•1ï¼ˆè±å¸ƒå°¼èŒ¨å…¬å¼ï¼‰</strong>ï¼šÏ€/4 = 1 - 1/3 + 1/5 - 1/7 + 1/9 - ...ï¼ˆæ”¶æ•›é€Ÿåº¦æ…¢ï¼‰</li>
                    <li><strong>ç®—æ³•2ï¼ˆé©¬é’å…¬å¼ï¼‰</strong>ï¼šÏ€ = 16Ã—arctan(1/5) - 4Ã—arctan(1/239)ï¼ˆæ”¶æ•›é€Ÿåº¦å¿«ï¼‰</li>
                </ul>
            </div>

            <div class="input-group">
                <label for="pi-iterations">è¯·è¾“å…¥è®¡ç®—ç²¾åº¦ï¼ˆè¿­ä»£æ¬¡æ•°ï¼Œè¶Šå¤§è¶Šç²¾ç¡®ï¼‰ï¼š</label>
                <input type="number" id="pi-iterations" min="100" value="100000" step="10000">
            </div>

            <div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 30px 0;">
                <div class="card warning" style="flex: 1; min-width: 300px;">
                    <h3>ç®—æ³•1ï¼šè±å¸ƒå°¼èŒ¨å…¬å¼</h3>
                    <p>è¿è¡ŒçŠ¶æ€ï¼š<span id="pi-status1">æœªè¿è¡Œ</span></p>
                    <p>è®¡ç®—ç»“æœï¼š<span id="pi-result1" style="font-size: 20px; font-weight: bold;">--</span></p>
                    <p>æ€»ç”¨æ—¶ï¼š<span id="pi-time1" style="font-size: 24px; color: #e53e3e; font-weight: bold;">0.000</span> ç§’</p>
                    <div class="progress-container">
                        <div class="progress-bar" id="pi-progress1" style="width: 0%;">0%</div>
                    </div>
                    <p style="margin-top: 10px; font-size: 14px; color: #718096;">ç‰¹ç‚¹ï¼šç®€å•æ˜“æ‡‚ï¼Œä½†æ”¶æ•›æ…¢ï¼Œéœ€è¦å¤§é‡è¿­ä»£</p>
                </div>

                <div class="card secondary" style="flex: 1; min-width: 300px;">
                    <h3>ç®—æ³•2ï¼šé©¬é’å…¬å¼</h3>
                    <p>è¿è¡ŒçŠ¶æ€ï¼š<span id="pi-status2">æœªè¿è¡Œ</span></p>
                    <p>è®¡ç®—ç»“æœï¼š<span id="pi-result2" style="font-size: 20px; font-weight: bold;">--</span></p>
                    <p>æ€»ç”¨æ—¶ï¼š<span id="pi-time2" style="font-size: 24px; color: #48bb78; font-weight: bold;">0.000</span> ç§’</p>
                    <div class="progress-container">
                        <div class="progress-bar" id="pi-progress2" style="width: 0%; background: linear-gradient(90deg, #9f7aea, #48bb78);">0%</div>
                    </div>
                    <p style="margin-top: 10px; font-size: 14px; color: #718096;">ç‰¹ç‚¹ï¼šæ”¶æ•›é€Ÿåº¦å¿«ï¼Œæ˜¯å¤ä»£è®¡ç®—Ï€çš„é«˜æ•ˆæ–¹æ³•</p>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn" onclick="runPiSimulation()">è¿è¡Œä¸¤ä¸ªç®—æ³•</button>
                <button class="btn danger" onclick="resetPiSimulation()">é‡ç½®</button>
                <button class="btn secondary" onclick="explainPiCalculation()">äº†è§£æ›´å¤šç®—æ³•</button>
            </div>

            <div class="card" id="pi-result" style="display: none;">
                <h3>ğŸ¯ ç»“æœåˆ†æ</h3>
                <p>ç®—æ³•2çš„æ•ˆç‡è¿œè¿œé«˜äºç®—æ³•1ï¼</p>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li>ç®—æ³•1ç”¨æ—¶çº¦ <span id="pi-time1-display">1.73</span> ç§’</li>
                    <li>ç®—æ³•2ç”¨æ—¶çº¦ <span id="pi-time2-display">0.005</span> ç§’</li>
                    <li>ç®—æ³•2æ¯”ç®—æ³•1å¿«äº†çº¦ <span id="pi-speedup" style="color: #48bb78; font-weight: bold;">--</span> å€ï¼</li>
                </ul>
                <p>é«˜æ•ˆçš„ç®—æ³•ä¸ä»…èƒ½èŠ‚çœæ—¶é—´ï¼Œè¿˜èƒ½è·å¾—æ›´ç²¾ç¡®çš„ç»“æœï¼è¿™å°±æ˜¯ç®—æ³•ä¼˜åŒ–çš„é­…åŠ›ï½</p>
            </div>

            <div class="card" style="margin-top: 30px;">
                <h3>ğŸ’¡ å°çŸ¥è¯†</h3>
                <p><strong>ä¸­å›½å¤ä»£æ•°å­¦å®¶ç¥–å†²ä¹‹</strong>åœ¨1500å¤šå¹´å‰å°±ç”¨å‰²åœ†æœ¯è®¡ç®—å‡ºäº†Ï€çš„7ä½å°æ•°ç²¾åº¦ï¼Œä¿æŒäº†è¿‘åƒå¹´çš„ä¸–ç•Œçºªå½•ï¼ä»–ç”¨çš„ç®—æ³•åœ¨å½“æ—¶æ˜¯éå¸¸å…ˆè¿›çš„ã€‚</p>
                <p>ç°ä»£è®¡ç®—æœºä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•ï¼ˆå¦‚Chudnovskyç®—æ³•ï¼‰ï¼Œå·²ç»è®¡ç®—å‡ºÏ€çš„<strong>100ä¸‡äº¿ä½</strong>å°æ•°ï¼</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="prevSection()">â† ä¸Šä¸€èŠ‚</button>
                <button class="btn" onclick="backToStart()">è¿”å›é¦–é¡µ</button>
            </div>
        </section>
    </div>

    <script>
        // å¯¼èˆªåŠŸèƒ½
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.content-section');
        let currentSectionIndex = 0;

        navBtns.forEach((btn, index) => {
            btn.addEventListener('click', () => {
                switchSection(index);
            });
        });

        function switchSection(index) {
            // ç§»é™¤æ‰€æœ‰æ¿€æ´»çŠ¶æ€
            navBtns.forEach(btn => btn.classList.remove('active'));
            sections.forEach(sec => sec.classList.remove('active'));
            // æ·»åŠ å½“å‰æ¿€æ´»çŠ¶æ€
            navBtns[index].classList.add('active');
            sections[index].classList.add('active');
            currentSectionIndex = index;

            // å¦‚æœåˆ‡æ¢åˆ°å¯¼å…¥é¡µï¼Œç”Ÿæˆæ¢¯å½¢ç‰©ä½“
            if (index === 1) {
                generateTrapezoid();
            }
        }

        function nextSection() {
            if (currentSectionIndex < sections.length - 1) {
                switchSection(currentSectionIndex + 1);
            }
        }

        function prevSection() {
            if (currentSectionIndex > 0) {
                switchSection(currentSectionIndex - 1);
            }
        }

        function backToStart() {
            switchSection(0);
        }

        // è¯¾å ‚å¯¼å…¥ï¼šç”Ÿæˆæ¢¯å½¢ç‰©ä½“
        function generateTrapezoid() {
            const container = document.getElementById('intro-animation');
            container.innerHTML = '';
            const totalLayers = 10;
        const startX = 500;
        const startY = 50;
        const spacing = 5;

            for (let i = 0; i < totalLayers; i++) {
                const layerCount = i + 1;
                const layerWidth = (30 + spacing) * layerCount - spacing;
                const layerStartX = startX - layerWidth / 2;

                for (let j = 0; j < layerCount; j++) {
                    const shape = document.createElement('div');
                    shape.className = 'shape';
                    shape.style.left = `${layerStartX + j * (30 + spacing)}px`;
                    shape.style.top = `${startY + i * (30 + spacing)}px`;
                    shape.style.opacity = '0';
                    container.appendChild(shape);

                    // æ¸å…¥åŠ¨ç”»
                    setTimeout(() => {
                        shape.style.opacity = '1';
                    }, i * 100 + j * 50);
                }
            }
        }

        // æ˜¾ç¤ºæ–¹æ³•ä¸€
        function showMethod1() {
            const result = document.getElementById('method1-result');
            result.style.display = 'block';
            document.getElementById('method2-result').style.display = 'none';

            // åŠ¨ç”»æ¼”ç¤ºç´¯åŠ è¿‡ç¨‹ - æ¯è¡Œæ ¼å­æ•°ç´¯åŠ 
            const container = document.getElementById('intro-animation');
            const shapes = container.querySelectorAll('.shape');
            let sum = 0;
            let currentLayer = 0;

            // æŒ‰è¡Œå¤„ç†ï¼Œæ¯è¡Œç´¯åŠ ä¸€æ¬¡
            for (let layer = 1; layer <= 10; layer++) {
                setTimeout(() => {
                    sum += layer;
                    // é«˜äº®å½“å‰è¡Œ
                    const rowShapes = container.querySelectorAll(`.shape:nth-child(n+${(layer-1)*layer/2 + 1}):nth-child(-n+${layer*(layer+1)/2})`);
                    rowShapes.forEach(shape => {
                        shape.style.background = '#48bb78';
                    });
                }, layer * 500);
            }
        }

        // æ˜¾ç¤ºæ–¹æ³•äºŒ
        function showMethod2() {
            const result = document.getElementById('method2-result');
            result.style.display = 'block';
            document.getElementById('method1-result').style.display = 'none';

            // ç”Ÿæˆå¹³è¡Œå››è¾¹å½¢åŠ¨ç”»
            const container = document.getElementById('parallelogram-animation');
            container.innerHTML = '';
            container.style.height = '450px'; // å¢åŠ é«˜åº¦ä»¥å®¹çº³å®Œæ•´å›¾å½¢
            
            // åˆ›å»º Tooltip
            const tooltip = document.createElement('div');
            tooltip.className = 'shape-tooltip';
            container.appendChild(tooltip);

            const totalLayers = 10;
            const startX = 300; // è°ƒæ•´èµ·å§‹ä½ç½®ï¼Œç¡®ä¿å±…ä¸­
            const startY = 30;
            const size = 30;
            const spacing = 5;
            const unitWidth = size + spacing;

            // è¾…åŠ©å‡½æ•°ï¼šæ˜¾ç¤º Tooltip
            const showTooltip = (e, text) => {
                const rect = e.target.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                // è®¡ç®—ç›¸å¯¹ä½ç½®
                let left = rect.left - containerRect.left + (size / 2);
                let top = rect.top - containerRect.top - 30;
                
                tooltip.style.left = `${left}px`;
                tooltip.style.top = `${top}px`;
                tooltip.style.transform = 'translateX(-50%)'; // å±…ä¸­
                tooltip.textContent = text;
                tooltip.style.display = 'block';
            };
            
            const hideTooltip = () => {
                tooltip.style.display = 'none';
            };

            // åŸæ¢¯å½¢ (è“è‰²)
            for (let i = 0; i < totalLayers; i++) {
                const layerCount = i + 1;
                // è®¡ç®—æ¯ä¸€è¡Œæœ€å·¦ä¾§çš„Xåæ ‡ï¼Œå½¢æˆç­‰è…°æ¢¯å½¢æ•ˆæœ
                const rowLeftX = startX - (unitWidth * i) / 2;

                for (let j = 0; j < layerCount; j++) {
                    const shape = document.createElement('div');
                    shape.className = 'shape';
                    shape.style.left = `${rowLeftX + j * unitWidth}px`;
                    shape.style.top = `${startY + i * unitWidth}px`;
                    // ä¸æ˜¾ç¤ºæ•°å­—
                    
                    shape.addEventListener('mouseenter', (e) => showTooltip(e, `è“è‰²æ¢¯å½¢ ç¬¬${i+1}å±‚ï¼š${j+1}/${layerCount}`));
                    shape.addEventListener('mouseleave', hideTooltip);
                    
                    container.appendChild(shape);
                }
            }

            // åè½¬æ¢¯å½¢ (ç´«è‰²)
            setTimeout(() => {
                for (let i = 0; i < totalLayers; i++) {
                    const layerCount = totalLayers - i; // å€’æ¢¯å½¢æ¯å±‚ä¸ªæ•°ï¼š10, 9, ..., 1
                    
                    // è®¡ç®—ä½ç½®ï¼šç´§è´´æ­£æ¢¯å½¢å³ä¾§
                    // æ­£æ¢¯å½¢ç¬¬iå±‚èµ·å§‹Xï¼šrowLeftX_Blue = startX - (unitWidth * i) / 2
                    // æ­£æ¢¯å½¢ç¬¬iå±‚å®½åº¦ï¼š(i + 1) * unitWidth
                    // å€’æ¢¯å½¢èµ·å§‹X = æ­£æ¢¯å½¢èµ·å§‹X + æ­£æ¢¯å½¢å®½åº¦
                    
                    const rowLeftX_Blue = startX - (unitWidth * i) / 2;
                    const rowLeftX_Purple = rowLeftX_Blue + (i + 1) * unitWidth;

                    for (let j = 0; j < layerCount; j++) {
                        const shape = document.createElement('div');
                        shape.className = 'shape reverse';
                        shape.style.left = `${rowLeftX_Purple + j * unitWidth}px`;
                        shape.style.top = `${startY + i * unitWidth}px`;
                        // ä¸æ˜¾ç¤ºæ•°å­—
                        shape.style.opacity = '0';
                        
                        shape.addEventListener('mouseenter', (e) => showTooltip(e, `ç´«è‰²æ¢¯å½¢ ç¬¬${i+1}å±‚ï¼š${j+1}/${layerCount}`));
                        shape.addEventListener('mouseleave', hideTooltip);
                        
                        container.appendChild(shape);

                        // é€ä¸ªæ¸å…¥åŠ¨ç”»
                        setTimeout(() => {
                            shape.style.opacity = '1';
                        }, i * 100 + j * 50);
                    }
                }
            }, 1000);
        }

        // é‡ç½®å¯¼å…¥é¡µ
        function resetIntro() {
            document.getElementById('method1-result').style.display = 'none';
            document.getElementById('method2-result').style.display = 'none';
            generateTrapezoid();
        }

        // é—®ç­”æ£€æŸ¥
        function checkQuiz(correctAnswer, option) {
            const options = document.querySelectorAll('.quiz-option');
            const correctFeedback = document.getElementById('correct-feedback');
            const incorrectFeedback = document.getElementById('incorrect-feedback');

            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });

            if (correctAnswer === 2) {
                option.classList.add('correct');
                correctFeedback.style.display = 'block';
                incorrectFeedback.style.display = 'none';
            } else {
                option.classList.add('incorrect');
                incorrectFeedback.style.display = 'block';
                correctFeedback.style.display = 'none';
            }
        }

        // è®¡ç®—æ—¶é—´
        function calculateTime() {
            const n = parseInt(document.getElementById('number-input').value);
            const addTime = 1; // åŠ æ³•1ç§’
            const mulTime = 10; // ä¹˜æ³•10ç§’
            const divTime = 15; // é™¤æ³•15ç§’

            // ç®—æ³•ä¸€ï¼šn-1æ¬¡åŠ æ³•
            const time1 = (n - 1) * addTime;
            document.getElementById('algorithm1-time').textContent = `${time1}ç§’`;
            document.getElementById('algorithm1-steps').textContent = `${n-1}æ¬¡åŠ æ³•`;

            // ç®—æ³•äºŒï¼š1åŠ +1ä¹˜+1é™¤
            const time2 = addTime + mulTime + divTime;
            document.getElementById('algorithm2-time').textContent = `${time2}ç§’`;
            document.getElementById('algorithm2-steps').textContent = `1åŠ +1ä¹˜+1é™¤`;

            // æ›´æ–°æŸ±çŠ¶å›¾é«˜åº¦
            const maxTime = Math.max(time1, time2, 100);
            const maxHeight = 250;
            const minHeight = 30;

            const height1 = Math.max(minHeight, (time1 / maxTime) * maxHeight);
            const height2 = Math.max(minHeight, (time2 / maxTime) * maxHeight);

            document.getElementById('bar1').style.height = `${height1}px`;
            document.getElementById('bar2').style.height = `${height2}px`;
        }

        // ç¼–ç¨‹æ¨¡æ‹Ÿ
        function runSimulation() {
            const repeatCount = parseInt(document.getElementById('repeat-count').value);
            const status1 = document.getElementById('status1');
            const status2 = document.getElementById('status2');
            const time1 = document.getElementById('time1');
            const time2 = document.getElementById('time2');
            const progress1 = document.getElementById('sim-progress1');
            const progress2 = document.getElementById('sim-progress2');
            const resultDiv = document.getElementById('sim-result');
            const resultCount = document.getElementById('result-count');
            const resultText = document.getElementById('result-text');

            // é‡ç½®çŠ¶æ€
            status1.textContent = 'è¿è¡Œä¸­...';
            status2.textContent = 'è¿è¡Œä¸­...';
            time1.textContent = '0.000';
            time2.textContent = '0.000';
            progress1.style.width = '0%';
            progress2.style.width = '0%';
            progress1.textContent = '0%';
            progress2.textContent = '0%';
            resultDiv.style.display = 'none';

            // çœŸå®æ¨¡æ‹Ÿç®—æ³•ä¸€ï¼šå¾ªç¯ç´¯åŠ 
            const startTime1 = performance.now();
            let sum1 = 0;
            let completed1 = 0;
            const batchSize = Math.max(1, Math.floor(repeatCount / 100));

            function runAlgorithm1Batch() {
                const batchEnd = Math.min(completed1 + batchSize, repeatCount);
                for (let i = completed1; i < batchEnd; i++) {
                    for (let j = 1; j <= 1000; j++) {
                        sum1 += j;
                    }
                }
                completed1 = batchEnd;
                const progress = (completed1 / repeatCount) * 100;
                progress1.style.width = `${progress}%`;
                progress1.textContent = `${progress.toFixed(1)}%`;

                if (completed1 < repeatCount) {
                    requestAnimationFrame(runAlgorithm1Batch);
                } else {
                    const endTime1 = performance.now();
                    const duration1 = (endTime1 - startTime1).toFixed(3);
                    time1.textContent = duration1;
                    status1.textContent = 'å·²å®Œæˆ';
                    status1.style.color = '#48bb78';
                }
            }

            // çœŸå®æ¨¡æ‹Ÿç®—æ³•äºŒï¼šå…¬å¼è®¡ç®—
            const startTime2 = performance.now();
            let sum2 = 0;
            let completed2 = 0;
            const batchSize2 = Math.max(1, Math.floor(repeatCount / 10));

            function runAlgorithm2Batch() {
                const batchEnd = Math.min(completed2 + batchSize2, repeatCount);
                for (let i = completed2; i < batchEnd; i++) {
                    sum2 = (1 + 1000) * 1000 / 2;
                }
                completed2 = batchEnd;
                const progress = (completed2 / repeatCount) * 100;
                progress2.style.width = `${progress}%`;
                progress2.textContent = `${progress.toFixed(1)}%`;

                if (completed2 < repeatCount) {
                    requestAnimationFrame(runAlgorithm2Batch);
                } else {
                    const endTime2 = performance.now();
                    const duration2 = (endTime2 - startTime2).toFixed(3);
                    time2.textContent = duration2;
                    status2.textContent = 'å·²å®Œæˆ';
                    status2.style.color = '#48bb78';

                    // æ˜¾ç¤ºç»“æœ
                    resultCount.textContent = repeatCount;
                    const speedup = (parseFloat(time1.textContent) / parseFloat(duration2)).toFixed(2);
                    resultText.innerHTML = `å½“é‡å¤æ‰§è¡Œ${repeatCount}æ¬¡æ—¶ï¼Œå…¬å¼è®¡ç®—çš„æ•ˆç‡è¿œè¿œé«˜äºå¾ªç¯ç´¯åŠ ï¼<br><strong>ç®—æ³•äºŒæ¯”ç®—æ³•ä¸€å¿«äº†çº¦ ${speedup} å€ï¼</strong><br>æ•°æ®é‡è¶Šå¤§ï¼Œè¿™ç§å·®å¼‚è¶Šæ˜æ˜¾ï½`;
                    resultDiv.style.display = 'block';
                }
            }

            // åŒæ—¶è¿è¡Œä¸¤ä¸ªç®—æ³•
            runAlgorithm1Batch();
            setTimeout(runAlgorithm2Batch, 100);
        }

        // é‡ç½®æ¨¡æ‹Ÿ
        function resetSimulation() {
            document.getElementById('status1').textContent = 'æœªè¿è¡Œ';
            document.getElementById('status2').textContent = 'æœªè¿è¡Œ';
            document.getElementById('time1').textContent = '0.000';
            document.getElementById('time2').textContent = '0.000';
            document.getElementById('sim-progress1').style.width = '0%';
            document.getElementById('sim-progress1').textContent = '0%';
            document.getElementById('sim-progress2').style.width = '0%';
            document.getElementById('sim-progress2').textContent = '0%';
            document.getElementById('sim-result').style.display = 'none';
        }

        // åœ†å‘¨ç‡æ¨¡æ‹Ÿ
        function runPiSimulation() {
            const iterations = parseInt(document.getElementById('pi-iterations').value);
            const status1 = document.getElementById('pi-status1');
            const status2 = document.getElementById('pi-status2');
            const result1 = document.getElementById('pi-result1');
            const result2 = document.getElementById('pi-result2');
            const time1 = document.getElementById('pi-time1');
            const time2 = document.getElementById('pi-time2');
            const progress1 = document.getElementById('pi-progress1');
            const progress2 = document.getElementById('pi-progress2');
            const resultDiv = document.getElementById('pi-result');

            // é‡ç½®çŠ¶æ€
            status1.textContent = 'è¿è¡Œä¸­...';
            status2.textContent = 'è¿è¡Œä¸­...';
            result1.textContent = '--';
            result2.textContent = '--';
            time1.textContent = '0.000';
            time2.textContent = '0.000';
            progress1.style.width = '0%';
            progress2.style.width = '0%';
            progress1.textContent = '0%';
            progress2.textContent = '0%';
            resultDiv.style.display = 'none';

            // ç®—æ³•1ï¼šè±å¸ƒå°¼èŒ¨å…¬å¼ï¼ˆæ…¢é€Ÿï¼‰
            const startTime1 = performance.now();
            let pi1 = 0;
            let completed1 = 0;
            const batchSize1 = Math.max(1, Math.floor(iterations / 100));

            function runAlgorithm1Batch() {
                const batchEnd = Math.min(completed1 + batchSize1, iterations);
                for (let i = completed1; i < batchEnd; i++) {
                    pi1 += Math.pow(-1, i) / (2 * i + 1);
                }
                completed1 = batchEnd;
                const progress = (completed1 / iterations) * 100;
                progress1.style.width = `${progress}%`;
                progress1.textContent = `${progress.toFixed(1)}%`;

                if (completed1 < iterations) {
                    requestAnimationFrame(runAlgorithm1Batch);
                } else {
                    const endTime1 = performance.now();
                    const duration1 = (endTime1 - startTime1).toFixed(3);
                    result1.textContent = (pi1 * 4).toFixed(10);
                    time1.textContent = duration1;
                    document.getElementById('pi-time1-display').textContent = duration1;
                    status1.textContent = 'å·²å®Œæˆ';
                    status1.style.color = '#48bb78';
                }
            }

            // ç®—æ³•2ï¼šé©¬é’å…¬å¼ï¼ˆå¿«é€Ÿï¼‰
            const startTime2 = performance.now();
            let completed2 = 0;
            const batchSize2 = Math.max(1, Math.floor(iterations / 10));

            function runAlgorithm2Batch() {
                const batchEnd = Math.min(completed2 + batchSize2, iterations);
                for (let i = 0; i < (batchEnd - completed2); i++) {
                    // é©¬é’å…¬å¼ï¼šÏ€ = 16Ã—arctan(1/5) - 4Ã—arctan(1/239)
                    // ä½¿ç”¨æ³°å‹’çº§æ•°è®¡ç®—arctan
                    let arctan1_5 = 0;
                    let arctan1_239 = 0;
                    const terms = 20; // åªéœ€è¦å¾ˆå°‘çš„é¡¹å°±èƒ½è¾¾åˆ°é«˜ç²¾åº¦
                    
                    for (let j = 0; j < terms; j++) {
                        arctan1_5 += Math.pow(-1, j) * Math.pow(1/5, 2*j+1) / (2*j+1);
                        arctan1_239 += Math.pow(-1, j) * Math.pow(1/239, 2*j+1) / (2*j+1);
                    }
                    
                    let pi2 = 16 * arctan1_5 - 4 * arctan1_239;
                }
                completed2 = batchEnd;
                const progress = (completed2 / iterations) * 100;
                progress2.style.width = `${progress}%`;
                progress2.textContent = `${progress.toFixed(1)}%`;

                if (completed2 < iterations) {
                    requestAnimationFrame(runAlgorithm2Batch);
                } else {
                    const endTime2 = performance.now();
                    const duration2 = (endTime2 - startTime2).toFixed(3);
                    
                    // æœ€ç»ˆè®¡ç®—ä¸€æ¬¡ç²¾ç¡®å€¼
                    let arctan1_5 = 0;
                    let arctan1_239 = 0;
                    const terms = 50;
                    for (let j = 0; j < terms; j++) {
                        arctan1_5 += Math.pow(-1, j) * Math.pow(1/5, 2*j+1) / (2*j+1);
                        arctan1_239 += Math.pow(-1, j) * Math.pow(1/239, 2*j+1) / (2*j+1);
                    }
                    let pi2 = 16 * arctan1_5 - 4 * arctan1_239;
                    
                    result2.textContent = pi2.toFixed(10);
                    time2.textContent = duration2;
                    document.getElementById('pi-time2-display').textContent = duration2;
                    status2.textContent = 'å·²å®Œæˆ';
                    status2.style.color = '#48bb78';

                    // æ˜¾ç¤ºç»“æœ
                    setTimeout(() => {
                        const speedup = (parseFloat(duration1) / parseFloat(duration2)).toFixed(2);
                        document.getElementById('pi-speedup').textContent = speedup;
                        resultDiv.style.display = 'block';
                    }, 500);
                }
            }

            // åŒæ—¶è¿è¡Œä¸¤ä¸ªç®—æ³•
            runAlgorithm1Batch();
            setTimeout(runAlgorithm2Batch, 100);
        }

        // é‡ç½®åœ†å‘¨ç‡æ¨¡æ‹Ÿ
        function resetPiSimulation() {
            document.getElementById('pi-status1').textContent = 'æœªè¿è¡Œ';
            document.getElementById('pi-status2').textContent = 'æœªè¿è¡Œ';
            document.getElementById('pi-result1').textContent = '--';
            document.getElementById('pi-result2').textContent = '--';
            document.getElementById('pi-time1').textContent = '0.000';
            document.getElementById('pi-time2').textContent = '0.000';
            document.getElementById('pi-progress1').style.width = '0%';
            document.getElementById('pi-progress1').textContent = '0%';
            document.getElementById('pi-progress2').style.width = '0%';
            document.getElementById('pi-progress2').textContent = '0%';
            document.getElementById('pi-result').style.display = 'none';
        }

        // åœ†å‘¨ç‡è®¡ç®—è§£é‡Š
        function explainPiCalculation() {
            const explanation = `åœ†å‘¨ç‡Ï€çš„è®¡ç®—æ–¹æ³•ï¼š

1. è’™ç‰¹å¡æ´›æ–¹æ³•ï¼ˆæ¦‚ç‡ç»Ÿè®¡æ³•ï¼‰ï¼š
   - åŸç†ï¼šåœ¨æ­£æ–¹å½¢å†…éšæœºç”Ÿæˆå¤§é‡ç‚¹ï¼Œç»Ÿè®¡è½åœ¨åœ†å†…çš„ç‚¹æ•°é‡
   - å…¬å¼ï¼šÏ€ â‰ˆ 4 Ã— (åœ†å†…ç‚¹æ•° / æ€»ç‚¹æ•°)
   - ç‰¹ç‚¹ï¼šç®€å•ç›´è§‚ï¼Œä½†éœ€è¦å¤§é‡éšæœºæ•°æ‰èƒ½è·å¾—é«˜ç²¾åº¦

2. è±å¸ƒå°¼èŒ¨å…¬å¼ï¼ˆæ— ç©·çº§æ•°æ³•ï¼‰ï¼š
   - å…¬å¼ï¼šÏ€/4 = 1 - 1/3 + 1/5 - 1/7 + 1/9 - 1/11 + ...
   - ç‰¹ç‚¹ï¼šæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œéœ€è¦è®¡ç®—ç™¾ä¸‡é¡¹æ‰èƒ½å¾—åˆ°Ï€çš„å‰å‡ ä½

3. é©¬é’å…¬å¼ï¼ˆå¿«é€Ÿæ”¶æ•›æ³•ï¼‰ï¼š
   - å…¬å¼ï¼šÏ€ = 16 Ã— arctan(1/5) - 4 Ã— arctan(1/239)
   - ç‰¹ç‚¹ï¼šæ”¶æ•›é€Ÿåº¦å¿«ï¼Œæ˜¯å¤ä»£è®¡ç®—åœ†å‘¨ç‡çš„é«˜æ•ˆæ–¹æ³•

4. ç°ä»£ç®—æ³•ï¼ˆFFTåŠ é€Ÿï¼‰ï¼š
   - åŸç†ï¼šä½¿ç”¨å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå¤§æ•°ä¹˜æ³•
   - ç‰¹ç‚¹ï¼šè®¡ç®—é€Ÿåº¦æå¿«ï¼Œå·²è®¡ç®—åˆ°ä¸‡äº¿ä½å°æ•°

5. ä¸­å›½å¤ä»£ç®—æ³•ï¼š
   - ç¥–å†²ä¹‹çš„å‰²åœ†æœ¯ï¼šç”¨æ­£å¤šè¾¹å½¢é€¼è¿‘åœ†ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å7ä½
   - ä¿æŒäº†åƒå¹´ä¸–ç•Œçºªå½•`;
            
            // åˆ›å»ºæ¨¡æ€æ¡†æ˜¾ç¤ºè§£é‡Š
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: white;
                padding: 30px;
                border-radius: 12px;
                max-width: 800px;
                max-height: 80vh;
                overflow-y: auto;
                font-size: 16px;
                line-height: 1.8;
            `;
            
            content.innerHTML = `
                <h3 style="color: #2b6cb0; margin-bottom: 20px;">åœ†å‘¨ç‡Ï€çš„è®¡ç®—æ–¹æ³•</h3>
                <p><strong>1. è’™ç‰¹å¡æ´›æ–¹æ³•ï¼ˆæ¦‚ç‡ç»Ÿè®¡æ³•ï¼‰ï¼š</strong></p>
                <p>åŸç†ï¼šåœ¨æ­£æ–¹å½¢å†…éšæœºç”Ÿæˆå¤§é‡ç‚¹ï¼Œç»Ÿè®¡è½åœ¨åœ†å†…çš„ç‚¹æ•°é‡</p>
                <p>å…¬å¼ï¼šÏ€ â‰ˆ 4 Ã— (åœ†å†…ç‚¹æ•° / æ€»ç‚¹æ•°)</p>
                <p>ç‰¹ç‚¹ï¼šç®€å•ç›´è§‚ï¼Œä½†éœ€è¦å¤§é‡éšæœºæ•°æ‰èƒ½è·å¾—é«˜ç²¾åº¦</p>
                
                <p style="margin-top: 20px;"><strong>2. è±å¸ƒå°¼èŒ¨å…¬å¼ï¼ˆæ— ç©·çº§æ•°æ³•ï¼‰ï¼š</strong></p>
                <p>å…¬å¼ï¼šÏ€/4 = 1 - 1/3 + 1/5 - 1/7 + 1/9 - 1/11 + ...</p>
                <p>ç‰¹ç‚¹ï¼šæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œéœ€è¦è®¡ç®—ç™¾ä¸‡é¡¹æ‰èƒ½å¾—åˆ°Ï€çš„å‰å‡ ä½</p>
                
                <p style="margin-top: 20px;"><strong>3. é©¬é’å…¬å¼ï¼ˆå¿«é€Ÿæ”¶æ•›æ³•ï¼‰ï¼š</strong></p>
                <p>å…¬å¼ï¼šÏ€ = 16 Ã— arctan(1/5) - 4 Ã— arctan(1/239)</p>
                <p>ç‰¹ç‚¹ï¼šæ”¶æ•›é€Ÿåº¦å¿«ï¼Œæ˜¯å¤ä»£è®¡ç®—åœ†å‘¨ç‡çš„é«˜æ•ˆæ–¹æ³•</p>
                
                <p style="margin-top: 20px;"><strong>4. ç°ä»£ç®—æ³•ï¼ˆFFTåŠ é€Ÿï¼‰ï¼š</strong></p>
                <p>åŸç†ï¼šä½¿ç”¨å¿«é€Ÿå‚…é‡Œå¶å˜æ¢åŠ é€Ÿå¤§æ•°ä¹˜æ³•</p>
                <p>ç‰¹ç‚¹ï¼šè®¡ç®—é€Ÿåº¦æå¿«ï¼Œå·²è®¡ç®—åˆ°ä¸‡äº¿ä½å°æ•°</p>
                
                <p style="margin-top: 20px;"><strong>5. ä¸­å›½å¤ä»£ç®—æ³•ï¼š</strong></p>
                <p>ç¥–å†²ä¹‹çš„å‰²åœ†æœ¯ï¼šç”¨æ­£å¤šè¾¹å½¢é€¼è¿‘åœ†ï¼Œç²¾ç¡®åˆ°å°æ•°ç‚¹å7ä½</p>
                <p>ä¿æŒäº†åƒå¹´ä¸–ç•Œçºªå½•</p>
                
                <button onclick="this.parentElement.parentElement.remove()" style="
                    margin-top: 20px;
                    padding: 12px 24px;
                    background: #4299e1;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                    font-size: 16px;
                ">å…³é—­</button>
            `;
            
            modal.appendChild(content);
            document.body.appendChild(modal);
        }

        // åˆå§‹åŒ–
        window.onload = function() {
            calculateTime();
            generateTrapezoid();
        };
    </script>
</body>
</html>
