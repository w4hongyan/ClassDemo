<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡¯æ’’å¯†ç æ¼”ç¤ºä¸ç»ƒä¹ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
            font-family: monospace;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .result-box {
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            min-height: 60px;
            font-family: monospace;
            font-size: 18px;
            word-wrap: break-word;
        }

        .game-container {
            text-align: center;
        }

        .game-question {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 18px;
        }

        .game-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option-btn.correct {
            background: #4caf50;
            color: white;
            border-color: #4caf50;
        }

        .option-btn.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .feedback {
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #4caf50;
        }

        .feedback.wrong {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f44336;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        @media (max-width: 768px) {
            .demo-container {
                grid-template-columns: 1fr;
            }

            .game-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” å‡¯æ’’å¯†ç æ¼”ç¤ºä¸ç»ƒä¹ </h1>

        <!-- æ¼”ç¤ºéƒ¨åˆ† -->
        <div class="section">
            <h2>ğŸ“š å‡¯æ’’å¯†ç æ¼”ç¤º</h2>
            <div class="info-box">
                <strong>ä»€ä¹ˆæ˜¯å‡¯æ’’å¯†ç ï¼Ÿ</strong><br>
                å‡¯æ’’å¯†ç æ˜¯ä¸€ç§ç®€å•çš„æ›¿æ¢å¯†ç ï¼Œé€šè¿‡å°†å­—æ¯åœ¨å­—æ¯è¡¨ä¸­ç§»åŠ¨å›ºå®šæ•°é‡çš„ä½ç½®æ¥åŠ å¯†ã€‚
                ä¾‹å¦‚ï¼Œå¦‚æœåç§»é‡æ˜¯3ï¼ŒAå˜æˆDï¼ŒBå˜æˆEï¼ŒZå˜æˆCï¼ˆå¾ªç¯ï¼‰ã€‚
            </div>
            
            <div class="demo-container">
                <div>
                    <div class="input-group">
                        <label for="plaintext">æ˜æ–‡ï¼ˆè¦åŠ å¯†çš„æ–‡æœ¬ï¼‰ï¼š</label>
                        <textarea id="plaintext" placeholder="è¾“å…¥è¦åŠ å¯†çš„æ–‡æœ¬...">HELLO WORLD</textarea>
                    </div>
                    <div class="input-group">
                        <label for="shift">åç§»é‡ï¼ˆ1-25ï¼‰ï¼š</label>
                        <input type="number" id="shift" min="1" max="25" value="3">
                    </div>
                    <div class="btn-group">
                        <button class="btn" onclick="encrypt()">ğŸ”’ åŠ å¯†</button>
                        <button class="btn" onclick="clearDemo()">ğŸ—‘ï¸ æ¸…ç©º</button>
                    </div>
                </div>
                
                <div>
                    <div class="input-group">
                        <label for="ciphertext">å¯†æ–‡ï¼ˆè¦è§£å¯†çš„æ–‡æœ¬ï¼‰ï¼š</label>
                        <textarea id="ciphertext" placeholder="è¾“å…¥è¦è§£å¯†çš„æ–‡æœ¬..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="decryptShift">åç§»é‡ï¼ˆ1-25ï¼‰ï¼š</label>
                        <input type="number" id="decryptShift" min="1" max="25" value="3">
                    </div>
                    <div class="btn-group">
                        <button class="btn" onclick="decrypt()">ğŸ”“ è§£å¯†</button>
                        <button class="btn" onclick="clearDecrypt()">ğŸ—‘ï¸ æ¸…ç©º</button>
                    </div>
                </div>
            </div>
            
            <div class="result-box" id="result"></div>
        </div>

        <!-- ç»ƒä¹ æ¸¸æˆéƒ¨åˆ† -->
        <div class="section">
            <h2>ğŸ® ç»ƒä¹ å°æ¸¸æˆ</h2>
            <div class="score">å¾—åˆ†: <span id="score">0</span> | é¢˜ç›®: <span id="questionNum">0</span></div>
            
            <div class="game-question" id="gameQuestion">
                ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"æŒ‰é’®å¼€å§‹ç»ƒä¹ ï¼
            </div>
            
            <div class="game-options" id="gameOptions"></div>
            
            <div class="feedback" id="feedback"></div>
            
            <div class="btn-group" style="justify-content: center;">
                <button class="btn" onclick="startGame()">ğŸ¯ å¼€å§‹æ¸¸æˆ</button>
                <button class="btn" onclick="resetGame()">ğŸ”„ é‡ç½®æ¸¸æˆ</button>
            </div>
        </div>
    </div>

    <script>
        // å‡¯æ’’å¯†ç åŠ å¯†å‡½æ•°
        function caesarEncrypt(text, shift) {
            return text.split('').map(char => {
                if (char >= 'A' && char <= 'Z') {
                    return String.fromCharCode((char.charCodeAt(0) - 65 + shift) % 26 + 65);
                } else if (char >= 'a' && char <= 'z') {
                    return String.fromCharCode((char.charCodeAt(0) - 97 + shift) % 26 + 97);
                }
                return char;
            }).join('');
        }

        // å‡¯æ’’å¯†ç è§£å¯†å‡½æ•°
        function caesarDecrypt(text, shift) {
            return text.split('').map(char => {
                if (char >= 'A' && char <= 'Z') {
                    return String.fromCharCode((char.charCodeAt(0) - 65 - shift + 26) % 26 + 65);
                } else if (char >= 'a' && char <= 'z') {
                    return String.fromCharCode((char.charCodeAt(0) - 97 - shift + 26) % 26 + 97);
                }
                return char;
            }).join('');
        }

        // åŠ å¯†åŠŸèƒ½
        function encrypt() {
            const plaintext = document.getElementById('plaintext').value;
            const shift = parseInt(document.getElementById('shift').value);
            const result = caesarEncrypt(plaintext, shift);
            document.getElementById('result').textContent = `åŠ å¯†ç»“æœ: ${result}`;
            document.getElementById('ciphertext').value = result;
        }

        // è§£å¯†åŠŸèƒ½
        function decrypt() {
            const ciphertext = document.getElementById('ciphertext').value;
            const shift = parseInt(document.getElementById('decryptShift').value);
            const result = caesarDecrypt(ciphertext, shift);
            document.getElementById('result').textContent = `è§£å¯†ç»“æœ: ${result}`;
            document.getElementById('plaintext').value = result;
        }

        // æ¸…ç©ºæ¼”ç¤º
        function clearDemo() {
            document.getElementById('plaintext').value = '';
            document.getElementById('result').textContent = '';
        }

        function clearDecrypt() {
            document.getElementById('ciphertext').value = '';
            document.getElementById('result').textContent = '';
        }

        // æ¸¸æˆç›¸å…³å˜é‡
        let gameScore = 0;
        let questionNum = 0;
        let currentQuestion = null;
        let gameActive = false;

        // æ¸¸æˆé¢˜ç›®åº“
        const gameQuestions = [
            { text: "HELLO", shift: 3, answer: "KHOOR" },
            { text: "WORLD", shift: 5, answer: "BTWQI" },
            { text: "CRYPTOGRAPHY", shift: 7, answer: "JYFWAVNYHOLF" },
            { text: "SECRET", shift: 13, answer: "FRPERG" },
            { text: "MESSAGE", shift: 4, answer: "QIWWEGI" },
            { text: "CODE", shift: 10, answer: "MYNO" },
            { text: "CIPHER", shift: 6, answer: "IOVNKX" },
            { text: "ENCRYPT", shift: 9, answer: "NWLABYCW" },
            { text: "DECODE", shift: 15, answer: "STRTST" },
            { text: "ALGORITHM", shift: 2, answer: "CNIQTVJKO" }
        ];

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            gameActive = true;
            gameScore = 0;
            questionNum = 0;
            document.getElementById('score').textContent = gameScore;
            document.getElementById('questionNum').textContent = questionNum;
            generateQuestion();
        }

        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            gameActive = false;
            gameScore = 0;
            questionNum = 0;
            document.getElementById('score').textContent = gameScore;
            document.getElementById('questionNum').textContent = questionNum;
            document.getElementById('gameQuestion').textContent = 'ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"æŒ‰é’®å¼€å§‹ç»ƒä¹ ï¼';
            document.getElementById('gameOptions').innerHTML = '';
            document.getElementById('feedback').classList.remove('show', 'correct', 'wrong');
        }

        // ç”Ÿæˆé¢˜ç›®
        function generateQuestion() {
            if (!gameActive) return;

            // éšæœºé€‰æ‹©é¢˜ç›®ç±»å‹ï¼šåŠ å¯†æˆ–è§£å¯†
            const isEncrypt = Math.random() > 0.5;
            
            // éšæœºé€‰æ‹©é¢˜ç›®
            const question = gameQuestions[Math.floor(Math.random() * gameQuestions.length)];
            currentQuestion = question;

            questionNum++;
            document.getElementById('questionNum').textContent = questionNum;

            let questionText = '';
            let correctAnswer = '';
            let options = [];

            if (isEncrypt) {
                // åŠ å¯†é¢˜ç›®
                questionText = `å°† "${question.text}" ä½¿ç”¨åç§»é‡ ${question.shift} è¿›è¡ŒåŠ å¯†ï¼Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ`;
                correctAnswer = question.answer;
            } else {
                // è§£å¯†é¢˜ç›®
                questionText = `å°† "${question.answer}" ä½¿ç”¨åç§»é‡ ${question.shift} è¿›è¡Œè§£å¯†ï¼Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ`;
                correctAnswer = question.text;
            }

            document.getElementById('gameQuestion').textContent = questionText;

            // ç”Ÿæˆé”™è¯¯é€‰é¡¹
            const wrongOptions = [];
            while (wrongOptions.length < 3) {
                const randomShift = Math.floor(Math.random() * 25) + 1;
                let wrongAnswer;
                if (isEncrypt) {
                    wrongAnswer = caesarEncrypt(question.text, randomShift);
                } else {
                    wrongAnswer = caesarDecrypt(question.answer, randomShift);
                }
                if (wrongAnswer !== correctAnswer && !wrongOptions.includes(wrongAnswer)) {
                    wrongOptions.push(wrongAnswer);
                }
            }

            // æ··åˆé€‰é¡¹
            options = [correctAnswer, ...wrongOptions].sort(() => Math.random() - 0.5);

            // æ˜¾ç¤ºé€‰é¡¹
            const optionsContainer = document.getElementById('gameOptions');
            optionsContainer.innerHTML = '';
            options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => checkAnswer(option, correctAnswer, btn);
                optionsContainer.appendChild(btn);
            });

            // éšè—åé¦ˆ
            document.getElementById('feedback').classList.remove('show', 'correct', 'wrong');
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selected, correct, buttonElement) {
            if (!gameActive) return;

            const feedback = document.getElementById('feedback');
            const allButtons = document.querySelectorAll('.option-btn');
            
            // ç¦ç”¨æ‰€æœ‰æŒ‰é’®
            allButtons.forEach(btn => {
                btn.style.pointerEvents = 'none';
            });

            if (selected === correct) {
                gameScore++;
                document.getElementById('score').textContent = gameScore;
                buttonElement.classList.add('correct');
                feedback.textContent = 'âœ… å›ç­”æ­£ç¡®ï¼';
                feedback.className = 'feedback show correct';
            } else {
                buttonElement.classList.add('wrong');
                // é«˜äº®æ­£ç¡®ç­”æ¡ˆ
                allButtons.forEach(btn => {
                    if (btn.textContent === correct) {
                        btn.classList.add('correct');
                    }
                });
                feedback.textContent = `âŒ å›ç­”é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯: ${correct}`;
                feedback.className = 'feedback show wrong';
            }

            // 2ç§’åç”Ÿæˆä¸‹ä¸€é¢˜
            setTimeout(() => {
                allButtons.forEach(btn => {
                    btn.style.pointerEvents = 'auto';
                    btn.classList.remove('correct', 'wrong');
                });
                generateQuestion();
            }, 2000);
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = function() {
            // å¯ä»¥æ·»åŠ ä¸€äº›åˆå§‹åŒ–ä»£ç 
        };
    </script>
</body>
</html>
