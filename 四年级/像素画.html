<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å››å¹´çº§ç¬¬12è¯¾ï¼šæœ‰è¶£çš„äºŒè¿›åˆ¶é»‘ç™½å›¾åƒ</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --accent-color: #ff9f43;
            --bg-color: #f0f4f8;
            --text-color: #333;
        }
        
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1, h2, h3 {
            text-align: center;
            color: #2c3e50;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }

        .concept-box {
            background-color: #e8f4fd;
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        /* åƒç´ ç”»é€šç”¨æ ·å¼ */
        .pixel-grid {
            display: grid;
            gap: 2px;
            margin: 20px auto;
            background-color: #ddd;
            border: 2px solid #333;
            width: fit-content;
        }

        .pixel {
            width: 30px;
            height: 30px;
            background-color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: #ccc;
            user-select: none;
            transition: background-color 0.2s;
        }

        .pixel.black {
            background-color: black;
            color: #333;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.1s;
        }

        button:hover {
            transform: scale(1.05);
        }

        button.reset {
            background-color: #e74c3c;
        }

        .code-display {
            background-color: #2c3e50;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 15px;
            border-radius: 5px;
            word-break: break-all;
            margin-top: 10px;
            min-height: 50px;
            font-size: 18px;
            letter-spacing: 2px;
        }

        /* è§£ç æ¸¸æˆéƒ¨åˆ† */
        .slider-container {
            text-align: center;
            margin: 20px 0;
        }
        
        input[type=range] {
            width: 300px;
        }

        .hint {
            font-size: 0.9em;
            color: #666;
            text-align: center;
            margin-top: 5px;
        }

        .footer {
            text-align: center;
            font-size: 12px;
            color: #888;
            margin-top: 20px;
        }

    </style>
</head>
<body>

    <h1>æœ‰è¶£çš„ç¼–ç åº”ç”¨ï¼šäºŒå€¼çš„é»‘ç™½å›¾åƒ</h1>
    <p style="text-align: center;">è¯¾ä»¶æ¥æºï¼šå››å¹´çº§ç¬¬12è¯¾</p>

    <div class="container">
        <h2>1. è®¡ç®—æœºçœ¼ä¸­çš„é»‘ç™½</h2>
        <div class="concept-box">
            <p><strong>çŸ¥è¯†ç‚¹ï¼š</strong> åœ¨è®¡ç®—æœºä¸­ï¼Œå›¾ç‰‡æ˜¯ç”¨ <strong>0</strong> å’Œ <strong>1</strong> çš„ä¸åŒæ’åˆ—ç»„åˆæ¥è¡¨ç¤ºçš„ã€‚</p>
            <p>è§„åˆ™å¾ˆç®€å•ï¼š<strong>0 ä»£è¡¨ç™½è‰²ï¼Œ1 ä»£è¡¨é»‘è‰²</strong> </p>
        </div>
        
        <div style="text-align: center;">
            <p>è¯•ç€ç‚¹å‡»ä¸‹é¢çš„æ–¹å—ï¼Œçœ‹çœ‹æ•°å­—æ€ä¹ˆå˜åŒ–ï¼</p>
            <div id="single-pixel" class="pixel" style="width: 100px; height: 100px; font-size: 40px; margin: 0 auto; border: 2px solid black;">0</div>
        </div>
    </div>

    <div class="container">
        <h2>2. å°å°è®¾è®¡å¸ˆï¼šç”»å›¾ç”Ÿæˆä»£ç </h2>
        <div class="concept-box">
            <p><strong>ä»»åŠ¡ï¼š</strong> åœ¨ä¸‹é¢çš„ç½‘æ ¼ä¸­ç‚¹å‡»ç»˜åˆ¶å›¾å½¢ï¼Œä¸‹é¢ä¼šè‡ªåŠ¨ç”Ÿæˆè®¡ç®—æœºèƒ½è¯»æ‡‚çš„â€œ01ç¼–ç â€</p>
        </div>

        <div class="pixel-grid" id="draw-grid" style="grid-template-columns: repeat(8, 30px);">
            </div>

        <h3>ç”Ÿæˆçš„ 0/1 ç¼–ç ï¼š</h3>
        <div class="code-display" id="generated-code">
            00000000...
        </div>
        <div class="controls">
            <button onclick="clearGrid()">æ¸…ç©ºç”»å¸ƒ</button>
            <button onclick="drawHeart()">ç”»ä¸ªçˆ±å¿ƒ</button>
        </div>
    </div>

    <div class="container">
        <h2>3. è§£ç æŒ‘æˆ˜ï¼šç¥ç§˜çš„ç¬‘è„¸</h2>
        <div class="concept-box">
            <p><strong>é—®é¢˜ï¼š</strong> è®¡ç®—æœºé‡Œçš„ä»£ç é€šå¸¸å­˜å‚¨æˆä¸€é•¿ä¸²ã€‚å¦‚æœä¸å‘Šè¯‰è®¡ç®—æœºè¿™ä¸€è¡Œæœ‰å‡ ä¸ªæ ¼å­ï¼ˆåˆ—æ•°ï¼‰ï¼Œå›¾åƒå°±ä¼šä¹±æ‰ï¼</p>
            <p><strong>ä»»åŠ¡ï¼š</strong> ä¸‹é¢æœ‰ä¸€ä¸²ä»£ç ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªéšè—çš„å›¾æ¡ˆã€‚è¯·æ‹–åŠ¨æ»‘å—è°ƒæ•´<strong>â€œåˆ—æ•°â€</strong>ï¼Œç›´åˆ°ä½ çœ‹åˆ°æ­£å¸¸çš„å›¾æ¡ˆã€‚</p>
        </div>

        <div class="code-display" style="font-size: 14px; height: 60px; overflow-y: scroll;">
            1110111101100110000000100000101111110
        </div>

        <div class="slider-container">
            <label for="width-slider">æ¯è¡Œæ ¼æ•°(åˆ—æ•°): <span id="width-val" style="font-weight: bold; color: var(--primary-color);">5</span></label><br>
            <input type="range" id="width-slider" min="3" max="15" value="5">
            <p class="hint">å½“å‰çŠ¶æ€ï¼š<span id="status-text">ä¹±ç ä¸­...å†è¯•è¯•ï¼Ÿ</span></p>
        </div>

        <div class="pixel-grid" id="decode-grid">
            </div>
    </div>

    <div class="container">
        <h2>4. æ‹“å±•ï¼šæ–‡å­—ä¹Ÿæ˜¯ç‚¹é˜µå›¾</h2>
        <div class="concept-box">
            <p><strong>çŸ¥è¯†ç‚¹ï¼š</strong> æ±‰å­—åœ¨è®¡ç®—æœºé‡Œä¹Ÿæ˜¯é€šè¿‡ç‚¹é˜µï¼ˆå¾ˆå¤šä¸ª0å’Œ1ï¼‰å­˜å‚¨çš„ã€‚æ¯”å¦‚ä¸‹é¢çš„â€œæ™ºâ€å­— ã€‚</p>
        </div>
        
        <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap;">
            <div>
                <h3 style="text-align: center;">æ±‰å­—â€œæ™ºâ€</h3>
                <div class="pixel-grid" id="text-grid" style="grid-template-columns: repeat(11, 20px);">
                    </div>
            </div>
            <div style="max-width: 300px;">
                <p>è¶Šå¤æ‚çš„å›¾åƒæˆ–æ–‡å­—ï¼ŒåŒ…å«çš„ä¿¡æ¯é‡è¶Šå¤§ï¼Œç¼–ç ä¹Ÿå°±è¶Šé•¿ ã€‚</p>
                <p>å·¦å›¾æ˜¯ä¸€ä¸ª 11è¡Œ x 11åˆ— çš„ç‚¹é˜µå­—åº“ç¤ºä¾‹ã€‚</p>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>æ ¹æ®ã€Šä¹‰åŠ¡æ•™è‚²ä¿¡æ¯ç§‘æŠ€è¯¾ç¨‹èµ„æº å››å¹´çº§ã€‹è¯¾ä»¶å†…å®¹ç”Ÿæˆ</p>
    </div>

    <script>
        // --- 1. å•ä¸ªåƒç´ äº¤äº’ ---
        const singlePixel = document.getElementById('single-pixel');
        singlePixel.addEventListener('click', () => {
            if (singlePixel.classList.contains('black')) {
                singlePixel.classList.remove('black');
                singlePixel.textContent = '0';
                singlePixel.style.color = '#ccc';
            } else {
                singlePixel.classList.add('black');
                singlePixel.textContent = '1';
                singlePixel.style.color = 'white';
            }
        });

        // --- 2. ç»˜å›¾ç”Ÿæˆä»£ç  (8x8) ---
        const drawGrid = document.getElementById('draw-grid');
        const codeDisplay = document.getElementById('generated-code');
        const gridSize = 8;
        let pixels = [];

        function initDrawGrid() {
            drawGrid.innerHTML = '';
            pixels = [];
            for (let i = 0; i < gridSize * gridSize; i++) {
                const p = document.createElement('div');
                p.classList.add('pixel');
                p.dataset.index = i;
                p.addEventListener('click', () => togglePixel(p));
                drawGrid.appendChild(p);
                pixels.push(p);
            }
            updateCode();
        }

        function togglePixel(el) {
            el.classList.toggle('black');
            updateCode();
        }

        function updateCode() {
            let binary = '';
            pixels.forEach(p => {
                binary += p.classList.contains('black') ? '1' : '0';
            });
            // æ¯8ä½åŠ ä¸€ä¸ªç©ºæ ¼æ–¹ä¾¿é˜…è¯»
            codeDisplay.textContent = binary.match(/.{1,8}/g).join(' ');
        }

        function clearGrid() {
            pixels.forEach(p => p.classList.remove('black'));
            updateCode();
        }

        function drawHeart() {
            clearGrid();
            // ä¸€ä¸ªç®€å•çš„çˆ±å¿ƒå›¾æ¡ˆç´¢å¼•
            const heartIndices = [
                1,2, 4,5,
                0,3,6,7,
                0,7,
                1,6,
                2,5,
                3,4
            ];
            // ä¿®æ­£ä¸ºæ ‡å‡†8x8çˆ±å¿ƒ
            const heartMap = [
                0,1,1,0,0,1,1,0,
                1,1,1,1,1,1,1,1,
                1,1,1,1,1,1,1,1,
                1,1,1,1,1,1,1,1,
                0,1,1,1,1,1,1,0,
                0,0,1,1,1,1,0,0,
                0,0,0,1,1,0,0,0,
                0,0,0,0,0,0,0,0
            ];
            
            pixels.forEach((p, index) => {
                if(heartMap[index] === 1) p.classList.add('black');
            });
            updateCode();
        }

        initDrawGrid();

        // --- 3. è§£ç æ¸¸æˆ (è¯¾ä»¶ä¸­çš„ç¬‘è„¸) ---
        // è¯¾ä»¶æ¥æº 
        // åŸå§‹æ•°æ®æ˜¯ 5è¡Œ7åˆ—
        // 1 1 1 0 1 1 1
        // 0 1 1 0 0 1 1
        // 0 0 0 0 0 0 0 
        // 1 0 0 0 0 0 1
        // 0 1 1 1 1 1 0
        // æ‰å¹³åŒ–å­—ç¬¦ä¸²: 11101110110011000000010000010111110
        // æ³¨æ„ï¼šè¯¾ä»¶ä¸­çš„ç¬‘è„¸å›¾å®é™…ä¸Šæœ€åä¸€è¡Œæ˜¯ 0111110ï¼Œä¸ºäº†å¯¹é½æ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨è¯¾ä»¶46é¡µçš„æ•°æ®ã€‚
        // è¯¾ä»¶46é¡µä¸Šæ–¹ä»£ç ä¸²ï¼š
        // 111011101100
        // 1100000000100
        // 000101111110
        // æ€»é•¿åº¦ 35ä½. æ­£ç¡®æ˜¯7åˆ—ï¼Œ5è¡Œã€‚
        
        const puzzleCode = "11101110110011000000010000010111110"; 
        const decodeGrid = document.getElementById('decode-grid');
        const widthSlider = document.getElementById('width-slider');
        const widthVal = document.getElementById('width-val');
        const statusText = document.getElementById('status-text');

        function renderDecodeGrid(cols) {
            decodeGrid.innerHTML = '';
            decodeGrid.style.gridTemplateColumns = `repeat(${cols}, 30px)`;
            
            // å‘Šè¯‰å­¦ç”Ÿï¼šç¼–ç é•¿åº¦ä¸€å®šï¼Œä½†å½¢çŠ¶ç”±åˆ—æ•°å†³å®š
            for (let i = 0; i < puzzleCode.length; i++) {
                const p = document.createElement('div');
                p.classList.add('pixel');
                if (puzzleCode[i] === '1') {
                    p.classList.add('black');
                }
                decodeGrid.appendChild(p);
            }

            // æ£€æŸ¥æ˜¯å¦æ˜¯æ­£ç¡®ç­”æ¡ˆ (7åˆ—)
            if (parseInt(cols) === 7) {
                statusText.textContent = "æˆåŠŸè§£ç ï¼æ˜¯ä¸€ä¸ªç¬‘è„¸ï¼ğŸ˜„";
                statusText.style.color = "green";
                statusText.style.fontWeight = "bold";
            } else {
                statusText.textContent = "ç°åœ¨çš„å›¾æ¡ˆå¾ˆä¹±... è¯•ç€æ‹–åŠ¨æ»‘å—ï¼";
                statusText.style.color = "#e74c3c";
            }
        }

        widthSlider.addEventListener('input', (e) => {
            const val = e.target.value;
            widthVal.textContent = val;
            renderDecodeGrid(val);
        });

        // åˆå§‹åŒ–
        renderDecodeGrid(5);

        // --- 4. æ±‰å­— "æ™º" (è¯¾ä»¶77é¡µ) ---
        // è¿™æ˜¯ä¸€ä¸ªè¿‘ä¼¼çš„11x11ç‚¹é˜µ
        const zhiChar = [
            0,0,1,0,0,0,0,0,0,0,0,
            0,0,1,1,1,1,1,0,0,1,1, // çŸ¢ (ç®€åŒ–)
            0,1,0,0,1,0,0,0,0,1,1,
            1,1,1,1,1,1,1,0,1,1,1, // å£
            0,0,0,1,0,1,0,0,1,0,1,
            0,0,1,0,0,0,1,0,1,1,1, // æ™ºçš„ä¸ŠåŠéƒ¨åˆ†æ¯”è¾ƒå¤æ‚ï¼Œè¿™é‡Œæ¨¡æ‹Ÿè¯¾ä»¶å¤§æ¦‚æ ·å­
            0,0,0,0,0,0,0,0,0,0,0, // åˆ†éš”
            0,0,1,1,1,1,1,1,1,0,0, // æ—¥ (ä¸Šæ¨ª)
            0,0,1,0,0,0,0,0,1,0,0, 
            0,0,1,1,1,1,1,1,1,0,0, // æ—¥ (ä¸­æ¨ª)
            0,0,1,0,0,0,0,0,1,0,0,
            0,0,1,1,1,1,1,1,1,0,0  // æ—¥ (ä¸‹æ¨ª)
        ];
        // ä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç®€åŒ–ç‰ˆçš„å­—æ¨¡æ•°æ®ï¼Œæˆ–è€…è®©å®ƒé™æ€å±•ç¤ºå³å¯ï¼Œ
        // ä½†ä¸ºäº†äº’åŠ¨æ€§ï¼Œæˆ‘ä»¬ç”Ÿæˆç½‘æ ¼ã€‚
        const textGrid = document.getElementById('text-grid');
        
        // è¯¾ä»¶ä¸­çš„â€œæ™ºâ€å­—ç‚¹é˜µæ•°æ®ï¼ˆæ ¹æ® source: 77 æ‰‹å·¥è½¬å½•çš„å¤§è‡´å½¢çŠ¶ï¼Œ11åˆ—ï¼‰
        const zhiMatrix = [
             0,0,1,0,0,0,0,0,0,0,0,
             0,0,1,1,1,1,1,0,0,1,1,
             0,1,0,0,1,0,0,0,1,0,1,
             0,0,0,0,1,0,0,0,1,0,1,
             1,1,1,1,1,1,1,0,1,0,1,
             0,0,0,1,0,1,0,0,1,1,1,
             0,0,1,0,0,0,1,0,0,0,0,
             0,0,0,0,0,0,0,0,0,0,0,
             0,0,1,1,1,1,1,1,1,0,0,
             0,0,1,0,0,0,0,0,1,0,0,
             0,0,1,0,0,0,0,0,1,0,0,
             0,0,1,1,1,1,1,1,1,0,0,
             0,0,1,0,0,0,0,0,1,0,0,
             0,0,1,0,0,0,0,0,1,0,0,
             0,0,1,1,1,1,1,1,1,0,0
        ];

        function drawTextGrid() {
            textGrid.style.gridTemplateColumns = `repeat(11, 20px)`;
            zhiMatrix.forEach(bit => {
                const p = document.createElement('div');
                p.classList.add('pixel');
                p.style.width = '20px';
                p.style.height = '20px';
                if(bit === 1) p.classList.add('black');
                textGrid.appendChild(p);
            });
        }
        drawTextGrid();

    </script>
</body>
</html>