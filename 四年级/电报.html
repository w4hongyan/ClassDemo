<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å˜€å˜€å—’å—’çš„ç§˜å¯†ï¼šç”µæŠ¥ä¸è«å°”æ–¯ç”µç </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Microsoft YaHei", "SimHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* æ ‡é¢˜åŒº */
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #4a90e2;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header p {
            color: #f39c12;
            font-size: 1.2em;
        }

        /* å¡ç‰‡æ ·å¼ */
        .card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .card h2 {
            color: #4a90e2;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #f39c12;
            padding-bottom: 10px;
        }

        /* ç”µæŠ¥æœºåŒºåŸŸ */
        .telegraph-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .telegraph-left {
            flex: 1;
            min-width: 280px;
            text-align: center;
        }

        .telegraph-right {
            flex: 1;
            min-width: 280px;
        }

        #telegraphKey {
            cursor: pointer;
            transition: transform 0.1s;
        }

        #telegraphKey:active {
            transform: translateY(3px);
        }

        .output-box {
            background: #f8f9fa;
            border: 3px solid #4a90e2;
            border-radius: 15px;
            padding: 20px;
            min-height: 100px;
            margin-bottom: 15px;
        }

        .output-label {
            color: #4a90e2;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .output-content {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            word-wrap: break-word;
            min-height: 40px;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-clear {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            margin-left: 10px;
        }

        /* SOSåŒºåŸŸ */
        .sos-area {
            text-align: center;
        }

        .sos-hint {
            color: #e74c3c;
            font-size: 1.2em;
            margin-top: 15px;
            font-weight: bold;
        }

        /* è«å°”æ–¯è¡¨æ ¼ */
        .morse-table {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .morse-item {
            background: linear-gradient(135deg, #e8f4fd, #d4e9f7);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .morse-item:hover {
            transform: scale(1.05);
        }

        .morse-char {
            font-size: 2em;
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 8px;
        }

        .morse-code {
            font-size: 0.8em;
            color: #e67e22;
            font-weight: bold;
            letter-spacing: 3px;
        }

        /* æµ‹è¯•åŒº */
        .quiz-area {
            text-align: center;
        }

        .quiz-display {
            background: #fff3cd;
            border: 3px solid #f39c12;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
        }

        .quiz-options {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .quiz-btn {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            padding: 15px 25px;
            font-size: 1.2em;
        }

        .result {
            font-size: 3em;
            margin-top: 20px;
            min-height: 60px;
        }

        /* äº’åŠ¨åŠŸèƒ½åŒº */
        .interactive-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .sos-section,
        .quiz-section {
            flex: 1;
            min-width: 280px;
        }

        .sos-section h3,
        .quiz-section h3 {
            color: #4a90e2;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid #f39c12;
            padding-bottom: 8px;
        }

        /* åº•éƒ¨ */
        .footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            font-size: 1.1em;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .telegraph-area {
                flex-direction: column;
            }

            .morse-table {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }

            .interactive-area {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ ‡é¢˜åŒº -->
        <div class="header">
            <h1>ğŸ“¡ å˜€å˜€å—’å—’çš„ç§˜å¯†ï¼šç”µæŠ¥ä¸è«å°”æ–¯ç”µç </h1>
            <p>âœ¨ å°å­¦ç”Ÿå¯è§†åŒ–äº’åŠ¨å­¦ä¹ é¡µé¢ âœ¨</p>
        </div>

      
 <!-- è«å°”æ–¯ç”µç å¯¹ç…§è¡¨ -->
        <div class="card">
            <h2>ğŸ“‹ è«å°”æ–¯ç”µç å¯¹ç…§è¡¨</h2>
            <div class="morse-table" id="morseTable"></div>
        </div>
  <!-- ç”µæŠ¥æœºå±•ç¤ºåŒº -->
        <div class="card">
            <h2>ğŸ”§ ç”µæŠ¥æœºäº¤äº’ä½“éªŒ</h2>
            <div class="telegraph-area">
                <div class="telegraph-left">
                    <p style="color: #4a90e2; font-size: 1.2em; margin-bottom: 15px;">
                        <strong>æŒ‰ä½ç”µé”®è¯•è¯•ï¼</strong><br>
                        çŸ­æŒ‰ = ç‚¹ï¼ˆÂ·ï¼‰é•¿æŒ‰ = åˆ’ï¼ˆâ€”ï¼‰
                    </p>
                    <svg id="telegraphKey" width="200" height="200" viewBox="0 0 200 200">
                        <defs>
                            <linearGradient id="baseGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#8b7355;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#654321;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="keyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#ffd700;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#daa520;stop-opacity:1" />
                            </linearGradient>
                            <filter id="shadow">
                                <feDropShadow dx="0" dy="4" stdDeviation="3" flood-opacity="0.3"/>
                            </filter>
                        </defs>
                        
                        <!-- åº•åº§ -->
                        <rect x="20" y="140" width="160" height="40" rx="5" fill="url(#baseGrad)" filter="url(#shadow)"/>
                        
                        <!-- ç”µé”®æ”¯æ¶ -->
                        <rect x="80" y="120" width="40" height="25" rx="3" fill="#8b7355"/>
                        
                        <!-- ç”µé”®æŒ‰é’® -->
                        <g id="keyButton">
                            <ellipse cx="100" cy="80" rx="45" ry="35" fill="url(#keyGrad)" filter="url(#shadow)"/>
                            <ellipse cx="100" cy="75" rx="35" ry="25" fill="#ffed4e"/>
                            <text x="100" y="85" text-anchor="middle" font-size="24" font-weight="bold" fill="#d4a017">æŒ‰æˆ‘</text>
                        </g>
                        
                        <!-- è£…é¥°èºä¸ -->
                        <circle cx="40" cy="160" r="5" fill="#444"/>
                        <circle cx="160" cy="160" r="5" fill="#444"/>
                    </svg>
                </div>
                
                <div class="telegraph-right">
                    <div class="output-box">
                        <div class="output-label">ç‚¹åˆ’åºåˆ—ï¼š</div>
                        <div class="output-content" id="morseOutput">ç­‰å¾…è¾“å…¥...</div>
                    </div>
                    <div class="output-box">
                        <div class="output-label">ç¿»è¯‘ç»“æœï¼š</div>
                        <div class="output-content" id="textOutput"></div>
                    </div>
                    <button class="btn" onclick="clearOutput()">ğŸ—‘ï¸ æ¸…ç©º</button>
                </div>
            </div>
        </div>
        <!-- SOSæ¼”ç¤ºåŒºå’Œå°æµ‹è¯•åŒºå¹¶æ’å±•ç¤º -->
        <div class="card">
            <h2>ğŸ® äº’åŠ¨åŠŸèƒ½åŒº</h2>
            <div class="interactive-area">
                <!-- SOSæ¼”ç¤ºåŒº -->
                <div class="sos-section">
                    <h3>ğŸ†˜ ä¸€é”®å‘é€ SOS æ±‚æ•‘ä¿¡å·</h3>
                    <div class="sos-area">
                        <button class="btn" onclick="playSOS()">ğŸ“» æ’­æ”¾ SOSï¼ˆÂ·Â·Â· --- Â·Â·Â·ï¼‰</button>
                        <p class="sos-hint">ğŸ’¡ è¿™æ˜¯ä¸–ç•Œé€šç”¨çš„æ±‚æ•‘ä¿¡å·ï¼</p>
                    </div>
                </div>
                
                <!-- å°æµ‹è¯•åŒº -->
                <div class="quiz-section">
                    <h3>ğŸ® äº’åŠ¨å°æµ‹è¯•</h3>
                    <div class="quiz-area">
                        <button class="btn quiz-btn" onclick="startQuiz1()">ğŸ¯ æµ‹è¯•1ï¼šçœ‹å­—æ¯æ•²ç”µç </button>
                        <button class="btn quiz-btn" onclick="startQuiz2()">ğŸ” æµ‹è¯•2ï¼šçœ‹ç”µç çŒœå­—æ¯</button>
                        
                        <div class="quiz-display" id="quizDisplay">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•ï¼</div>
                        
                        <div class="quiz-options" id="quizOptions"></div>
                        
                        <div class="result" id="result"></div>
                        
                        <button class="btn btn-clear" onclick="resetQuiz()" style="margin-top: 15px;">ğŸ”„ é‡æ–°å¼€å§‹</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨ -->
        <div class="footer">
            ğŸ“š æœ¬é¡µé¢ç”¨äºå°å­¦ç§‘å­¦ä¸ä¿¡æ¯æŠ€æœ¯è¯¾ç¨‹ã€Šå˜€å˜€å—’å—’çš„ç§˜å¯†ã€‹ç”µæŠ¥ä¸è«å°”æ–¯ç”µç åŸç†æ¼”ç¤ºã€‚
        </div>
    </div>

    <script>
        // è«å°”æ–¯ç”µç å­—å…¸
        const morseCode = {
            'A': 'Â·â€”', 'B': 'â€”Â·Â·Â·', 'C': 'â€”Â·â€”Â·', 'D': 'â€”Â·Â·', 'E': 'Â·',
            'F': 'Â·Â·â€”Â·', 'G': 'â€”â€”Â·', 'H': 'Â·Â·Â·Â·', 'I': 'Â·Â·', 'J': 'Â·â€”â€”â€”',
            'K': 'â€”Â·â€”', 'L': 'Â·â€”Â·Â·', 'M': 'â€”â€”', 'N': 'â€”Â·', 'O': 'â€”â€”â€”',
            'P': 'Â·â€”â€”Â·', 'Q': 'â€”â€”Â·â€”', 'R': 'Â·â€”Â·', 'S': 'Â·Â·Â·', 'T': 'â€”',
            'U': 'Â·Â·â€”', 'V': 'Â·Â·Â·â€”', 'W': 'Â·â€”â€”', 'X': 'â€”Â·Â·â€”', 'Y': 'â€”Â·â€”â€”',
            'Z': 'â€”â€”Â·Â·',
            '0': 'â€”â€”â€”â€”â€”', '1': 'Â·â€”â€”â€”â€”', '2': 'Â·Â·â€”â€”â€”', '3': 'Â·Â·Â·â€”â€”', '4': 'Â·Â·Â·Â·â€”',
            '5': 'Â·Â·Â·Â·Â·', '6': 'â€”Â·Â·Â·Â·', '7': 'â€”â€”Â·Â·Â·', '8': 'â€”â€”â€”Â·Â·', '9': 'â€”â€”â€”â€”Â·'
        };

        // åå‘å­—å…¸
        const reverseMorse = {};
        for (let key in morseCode) {
            reverseMorse[morseCode[key]] = key;
        }

        // WebAudioè®¾ç½®
        let audioContext;
        let pressStartTime = 0;
        let currentMorse = '';

        // åˆå§‹åŒ–AudioContext
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        // æ’­æ”¾èœ‚é¸£å£°
        function playBeep(duration) {
            initAudio();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 1000;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        // ç”µé”®äº‹ä»¶å¤„ç†
        const keyElement = document.getElementById('telegraphKey');
        const keyButton = document.getElementById('keyButton');

        function onKeyDown(e) {
            e.preventDefault();
            pressStartTime = Date.now();
            keyButton.style.transform = 'translate(0, 5px)';
            playBeep(0.8);
        }

        function onKeyUp(e) {
            e.preventDefault();
            const duration = Date.now() - pressStartTime;
            keyButton.style.transform = 'translate(0, 0)';
            
            if (duration < 300) {
                addMorse('Â·');
            } else {
                addMorse('â€”');
            }
        }

        keyElement.addEventListener('mousedown', onKeyDown);
        keyElement.addEventListener('mouseup', onKeyUp);
        keyElement.addEventListener('touchstart', onKeyDown);
        keyElement.addEventListener('touchend', onKeyUp);

        // æ·»åŠ ç‚¹åˆ’
        function addMorse(symbol) {
            currentMorse += symbol;
            document.getElementById('morseOutput').textContent = currentMorse;
            
            // å°è¯•ç¿»è¯‘
            const words = currentMorse.split(' ');
            let translated = '';
            for (let word of words) {
                if (word === '') continue;
                const letters = word.split('  ');
                for (let letter of letters) {
                    if (reverseMorse[letter]) {
                        translated += reverseMorse[letter];
                    }
                }
                translated += ' ';
            }
            document.getElementById('textOutput').textContent = translated;
        }

        // æ¸…ç©ºè¾“å‡º
        function clearOutput() {
            currentMorse = '';
            document.getElementById('morseOutput').textContent = 'ç­‰å¾…è¾“å…¥...';
            document.getElementById('textOutput').textContent = '';
        }

        // æ’­æ”¾SOS
        async function playSOS() {
            initAudio();
            const sosPattern = ['Â·', 'Â·', 'Â·', ' ', 'â€”', 'â€”', 'â€”', ' ', 'Â·', 'Â·', 'Â·'];
            currentMorse = '';
            
            for (let i = 0; i < sosPattern.length; i++) {
                const symbol = sosPattern[i];
                if (symbol === ' ') {
                    await sleep(200);
                } else {
                    currentMorse += symbol;
                    document.getElementById('morseOutput').textContent = currentMorse;
                    
                    if (symbol === 'Â·') {
                        playBeep(0.12);
                        await sleep(150);
                    } else {
                        playBeep(0.6);
                        await sleep(650);
                    }
                }
            }
            
            document.getElementById('textOutput').textContent = 'SOS';
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ç”Ÿæˆè«å°”æ–¯è¡¨æ ¼
        function generateMorseTable() {
            const table = document.getElementById('morseTable');
            for (let char in morseCode) {
                const item = document.createElement('div');
                item.className = 'morse-item';
                item.innerHTML = `
                    <div class="morse-char">${char}</div>
                    <div class="morse-code">${morseCode[char]}</div>
                `;
                table.appendChild(item);
            }
        }

        // æµ‹è¯•1ï¼šçœ‹å­—æ¯æ•²ç”µç 
        let quiz1Target = '';
        let quiz1Input = '';

        function startQuiz1() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            quiz1Target = letters[Math.floor(Math.random() * letters.length)];
            quiz1Input = '';
            
            document.getElementById('quizDisplay').innerHTML = `
                è¯·æŒ‰ç”µé”®è¾“å…¥å­—æ¯ <strong style="color: #e74c3c; font-size: 1.5em;">${quiz1Target}</strong> çš„è«å°”æ–¯ç”µç <br>
                <span style="color: #7f8c8d; font-size: 0.8em;">ï¼ˆæç¤ºï¼š${morseCode[quiz1Target]}ï¼‰</span>
            `;
            document.getElementById('quizOptions').innerHTML = `
                <button class="btn" onclick="submitQuiz1()">âœ… æäº¤ç­”æ¡ˆ</button>
            `;
            document.getElementById('result').textContent = '';
            clearOutput();
        }

        function submitQuiz1() {
            const userInput = document.getElementById('morseOutput').textContent.trim();
            if (userInput === morseCode[quiz1Target]) {
                document.getElementById('result').innerHTML = 'ğŸ˜Š æ­£ç¡®ï¼';
                document.getElementById('result').style.color = '#27ae60';
            } else {
                document.getElementById('result').innerHTML = 'ğŸ˜¢ å†è¯•è¯•å§ï¼';
                document.getElementById('result').style.color = '#e74c3c';
            }
        }

        // æµ‹è¯•2ï¼šçœ‹ç”µç çŒœå­—æ¯
        let quiz2Target = '';

        function startQuiz2() {
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            quiz2Target = letters[Math.floor(Math.random() * letters.length)];
            
            document.getElementById('quizDisplay').innerHTML = `
                è¿™ä¸²ç”µç æ˜¯å“ªä¸ªå­—æ¯ï¼Ÿ<br>
                <strong style="color: #e67e22; font-size: 1.8em;letter-spacing: 3px;">${morseCode[quiz2Target]}</strong>
            `;
            
            // ç”Ÿæˆ4ä¸ªé€‰é¡¹
            const options = [quiz2Target];
            while (options.length < 4) {
                const randomLetter = letters[Math.floor(Math.random() * letters.length)];
                if (!options.includes(randomLetter)) {
                    options.push(randomLetter);
                }
            }
            
            // æ‰“ä¹±é€‰é¡¹
            options.sort(() => Math.random() - 0.5);
            
            const optionsHtml = options.map(letter => 
                `<button class="btn quiz-btn" onclick="checkQuiz2('${letter}')">${letter}</button>`
            ).join('');
            
            document.getElementById('quizOptions').innerHTML = optionsHtml;
            document.getElementById('result').textContent = '';
        }

        function checkQuiz2(answer) {
            if (answer === quiz2Target) {
                document.getElementById('result').innerHTML = 'ğŸ‰ ç­”å¯¹äº†ï¼';
                document.getElementById('result').style.color = '#27ae60';
            } else {
                document.getElementById('result').innerHTML = 'ğŸ˜… ç­”é”™äº†ï¼Œå†æƒ³æƒ³ï¼';
                document.getElementById('result').style.color = '#e74c3c';
            }
        }

        function resetQuiz() {
            document.getElementById('quizDisplay').textContent = 'ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•ï¼';
            document.getElementById('quizOptions').innerHTML = '';
            document.getElementById('result').textContent = '';
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            generateMorseTable();
        };
    </script>
</body>
</html>